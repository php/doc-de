<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 338740 Maintainer: cmb Status: working -->
<!-- Reviewed: no -->
<!-- Based on UPGRADING version 322438. Work in progess !-->

<appendix xml:id="migration54" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Migration von PHP 5.3.x auf PHP 5.4.x</title>
 <simpara>
  &manual.migration.seealso;
  <link linkend="migration5">5.0.x</link>,
  <link linkend="migration51">5.1.x</link>,
  <link linkend="migration52">5.2.x</link>,
  <link linkend="migration53">5.3.x</link> und
  <link linkend="migration55">5.5.x</link>.
 </simpara>

 <section xml:id="migration54.changes">
  <title>Was hat sich in PHP 5.4.x geändert?</title>
  <simpara>
   Die meisten Verbesserungen in PHP 5.4.x haben keine Auswirkungen auf existierenden Code.
   Es gibt <link linkend="migration54.incompatible">ein paar Inkompatibilitäten</link>
   und <link linkend="migration54.new-features">neue Features</link> die beachtet werden sollten,
   und Code sollte vor dem Wechsel der PHP Version in Produktionsumgebungen getestet werden.
  </simpara>
  <simpara>
   Für Systeme, die von älteren PHP-Versionen aktualisiert werden, findet
   man die relevante Dokumentation hier:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="migration53">Upgrade Hinweise für PHP 5.3.x</link>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="migration52">Upgrade Hinweise für PHP 5.2.x</link>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="migration51">Upgrade Hinweise für PHP 5.1.x</link>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="migration5">Migration von PHP 4 auf PHP 5</link>.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.incompatible">
  <title>Nicht rückwärtskompatible Änderungen</title>
  <simpara>
   Obwohl der meiste PHP 5 basierende Code ohne Änderungen funktionieren sollte,
   gibt einige nicht rückwärtskompatible Änderungen:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="features.safe-mode"><literal>Safe mode</literal></link> wird
     nicht länger unterstützt. Alle Anwendungen, die sich auf safe mode verlassen,
     benötigen unter Umständen Anpassungen bezüglich der Sicherheit.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="security.magicquotes">Magic quotes</link> wurde entfernt.
     Anwendungen, die sich auf dieses Feature verlassen, müssen aktualisiert
     werden, um Sicherheitsprobleme zu vermeiden.
    </simpara>
    <simpara>
     <function>get_magic_quotes_gpc</function> und
     <function>get_magic_quotes_runtime</function> geben nun immer &false;
     zurück. <function>set_magic_quotes_runtime</function> erzeugt eine Fehler der Stufe
     <constant>E_CORE_ERROR</constant>, wenn versucht wird
     <link linkend="security.magicquotes">Magic quotes</link> zu aktivieren.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Die <link linkend="ini.register-globals">register_globals</link> und
     <link linkend="ini.register-long-arrays">register_long_arrays</link> &php.ini; Direktiven
     wurden entfernt.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Die mbstring.script_encoding Direktive wurde entfernt.
     Statt dessen ist <link linkend="ini.zend.script-encoding">zend.script_encoding</link> zu verwenden.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="language.references.pass">Referenzübergabe zur Laufzeit</link>
     wurde entfernt.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Die <link linkend="control-structures.break"><literal>break</literal></link>
     und <link linkend="control-structures.continue"><literal>continue</literal></link>
     Anweisungen akzeptieren keine variablen Argumente mehr, d.h. es ist nicht
     möglich <literal>break 1 + foo() * $bar;</literal> zu schreiben.
     Statische Argumente wie <literal>break 2;</literal> funktionieren weiterhin.
     Als Nebeneffekt dieser Änderung sind <literal>break 0;</literal> und
     <literal>continue 0;</literal> nicht länger erlaubt.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Das Setzen der Zeitzone mit der TZ Umgebungsvariablen wird nicht länger von
     der <link linkend="book.datetime">Datum und Uhrzeit Extension</link> unterstützt.
     Statt dessen muss eine Zeitzone unter Verwendung der
     <link linkend="ini.date.timezone">date.timezone</link> &php.ini; Option
     oder der <function>date_default_timezone_set</function> Funktion angegeben werden.
     PHP wird nicht länger versuchen die Zeitzone zu erraten, sondern wird statt dessen
     auf "UTC" zurückfallen und eine <constant>E_WARNING</constant> erzeugen.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Nichtnumerische Zeichenkettenoffsets, z.B. <literal>$a['foo']</literal>, wobei $a eine
     Zeichenkette ist, geben nun false für <function>isset</function> und true
     für <function>empty</function> zurück, und erzeugen ein <constant>E_WARNING</constant>, wenn
     versucht wird, sie zu verwenden. Offsets der Typen double, bool und null
     erzeugen ein <constant>E_NOTICE</constant>. Numerische Zeichenketten (z.B. <literal>$a['2']</literal>) funktionieren wie
     bisher. Es ist zu beachten, dass Offsets wie <literal>'12.3'</literal> und <literal>'5 irgendwas'</literal> als
     nichtnumerisch angesehen werden, und ein <constant>E_WARNING</constant> erzeugen, aber aus
     Gründen der Abwärtskompatibilität zu 12 bzw. 5 konvertiert werden.
    </simpara>
    <simpara>
     Hinweis: der folgende Code gibt unterschiedliche Ergebnisse zurück.
    </simpara>
    <simpara>
     $str='abc';var_dump(isset($str['x'])); // false unter PHP 5.4 oder später, aber true unter 5.3 oder weniger
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Konvertieren von Arrays zu String wird nun eine
     <constant>E_NOTICE</constant> verursachen, aber das Ergebnis der Umwandlung ist
     weiterhin <literal>"Array"</literal>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     &null;, &false; oder leere Zeichenketten durch Hinzufügen einer Eigenschaft in
     ein Objekt zu konvertieren wird nun einen Fehler der Stufe <constant>E_WARNING</constant> statt
     <constant>E_STRICT</constant> ausgeben.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Parameternamen, die Superglobale schattieren, verursachen nun
     einen fatalen Fehler. Das verbietet Code wie <literal>function foo($_GET,
     $_POST) {}</literal>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Die Salsa10 und Salsa20 <link linkend="book.hash">Hash-Algorithmen</link> wurden entfernt.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>array_combine</function> gibt nun <literal>array()</literal>
     anstatt &false; zurück, wenn zwei leere Arrays als
     Parameter übergeben wurden.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Wird <function>htmlentities</function> mit asiatischen Zeichensätzen verwendet,
     funktioniert es wie <function>htmlspecialchars</function> - das war auch in
     früheren PHP Versionen so, aber nun wird ein Fehler der Stufe <constant>E_STRICT</constant>
     ausgegeben.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Der dritte Parameter von <function>ob_start</function> wurde von
     <type>boolean</type> <parameter>erase</parameter> in <type>integer</type>
     <parameter>flags</parameter> geändert. Es ist zu beachten, dass Code der
     <parameter>erase</parameter> ausdrücklich auf &false; setzt, sich unter PHP 5.4 nicht länger
     wie erwartet verhält; <link linkend="function.ob-start.flags-bc">dieses Beispiel</link>
     zeigt wie Code geschrieben wird, der kompatibel zu PHP 5.3 und PHP 5.4 ist.
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   Die folgenden Schlüsselwörter sind nun <link linkend="reserved">reserviert</link> und dürfen nicht als Namen
   von Funktionen, Klassen usw. genutzt werden.
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="language.oop5.traits">trait</link>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="language.types.callable">callable</link>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="language.oop5.traits">insteadof</link>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   Folgende Funktionen wurden von PHP entfernt:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>define_syslog_variables</function>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>import_request_variables</function>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>session_is_registered</function>, <function>session_register</function>
     und <function>session_unregister</function>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Die Aliase
     <function>mysqli_bind_param</function>, <function>mysqli_bind_result</function>,
     <function>mysqli_client_encoding</function>, <function>mysqli_fetch</function>,
     <function>mysqli_param_count</function>, <function>mysqli_get_metadata</function>,
     <function>mysqli_send_long_data</function>, mysqli::client_encoding() und mysqli_stmt::stmt().
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.new-features">
  <title>Neue Features</title>
  <simpara>
   PHP 5.4.0 bietet eine ganze Reihe neuer Features:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     Unterstützung für <link linkend="language.oop5.traits">Traits</link> wurde
     hinzugefügt.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Die kurze Array-Syntax wurde hinzugefügt, z.B. <literal>$a = [1, 2, 3, 4];</literal> oder
     <literal>$a = ['one' => 1, 'two' => 2, 'three' => 3, 'four' => 4];</literal>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Das Dereferenzieren von Funktionen, die ein Array zurückgeben, wurde hinzugefügt, z.B. <literal>foo()[0]</literal>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="functions.anonymous">Closures</link> unterstützen nun <literal>$this</literal>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>&lt;?=</literal> ist nun immer verfügbar, unabhängig von der
     <link linkend="ini.short-open-tag">short_open_tag</link> &php.ini; Option.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Zugriff auf Klassenmitglieder bei der Instantiierung wurde hinzugefügt,
     z.B. <literal>(new Foo)-&gt;bar()</literal>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>Class::{expr}()</literal> Syntax wird nun unterstützt.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Das binäre Zahlenformat wurde hinzugefügt, z.B. <literal>0b001001101</literal>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Parser-Fehlermeldungen und Warnung wegen inkompatibler Argumente wurden verbessert.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Die Session Extension kann nun den <link linkend="session.upload-progress">Upload-Fortschritt</link> von Dateien verfolgen.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Einen eingebauter <link linkend="features.commandline.webserver">Webserver im CLI-Modus</link> für die Entwicklung.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.sapi">
  <title>Änderungen in SAPI Modulen</title>
  <itemizedlist>
   <listitem>
    <simpara>
     Ein neues SAPI Modul namens <literal>cli-server</literal> ist nun verfügbar.
    </simpara>
   </listitem>
  </itemizedlist>
  <itemizedlist>
   <listitem>
    <simpara>
     CLI Option <literal>--rz</literal> hinzugefügt, die Information über die benannte Zend
     Extension anzeigt.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Kurzform <literal>#inisetting=value</literal> hinzugefügt, um ini Einstellungen zur Laufzeit
     im interaktiven Readline CLI zu ändern.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Apache kompatible Funktionen für die FastCGI SAPI hinzugefügt: <function>apache_child_terminate</function>,
     <function>getallheaders</function>, <function>apache_request_headers</function>
     und <function>apache_response_headers</function>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     PHP-FPM: <literal>process.max</literal> Einstellung zur Steuerung der Anzahl der Prozesse,
     die FPM forken kann, hinzugefügt.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.deprecated">
  <title>Deprecated features in PHP 5.4.x</title>
  <simpara>
   Deprecated functions:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>mysql_list_dbs</function>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.parameters">
  <title>New Parameters</title>
  <simpara>
   Several functions were given new, optional parameters in PHP 5.4:
  </simpara>
  <simpara>PHP Core:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     Optionales Argument für <function>debug_backtrace</function> und
     <function>debug_print_backtrace</function> hinzugefügt, mit dem die Anzahl
     von zurückgegebenen Stack-Frames begrenzt werden kann
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>is_a</function> und <function>is_subclass_of</function> haben nun
     einen dritten, boole'schen Parameter, der angibt, ob das erste Argument ein
     Klassenname als Zeichenkette sein kann.
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>OpenSSL:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     Nicht-Füll-Option für <function>openssl_encrypt</function> und
     <function>openssl_decrypt</function> hinzugefügt
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>Intl:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>idn_to_ascii</function> und <function>idn_to_utf8</function>
     nehmen nun zwei zusätzliche Parameter entgegen; einer gibt die Variante an
     (IDNA 2003 or UTS #46), der andere der per Referenz übergeben wird, gibt
     Details über die Operation zurück, falls UTS #46 gewählt wurde.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.functions">
  <title>New Functions</title>
  <simpara>
   PHP 5.4 introduced some new functions:
  </simpara>

  <simpara>PHP Core:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>hex2bin</function>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>http_reponse_code</function>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>get_declared_traits</function>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>getimagesizefromstring</function>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>stream_set_chunk_size</function>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>socket_import_stream</function>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>trait_exists</function>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>header_register_callback</function>
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara><link linkend="book.spl">SPL:</link></simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>class_uses</function>
    </simpara>
   </listitem>
  </itemizedlist>
   <simpara><link linkend="book.session">Session:</link></simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>session_status</function>
    </simpara>
    <simpara>
     <function>session_register_shutdown</function>
    </simpara>
   </listitem>
   </itemizedlist>
   <simpara><link linkend="book.mysqli">Mysqli:</link></simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>mysqli_error_list</function>
    </simpara>
    <simpara>
     <function>mysqli_stmt_error_list</function>
    </simpara>
   </listitem>
   </itemizedlist>
   <simpara><link linkend="book.libxml">Libxml:</link></simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>libxml_set_external_entity_loader</function>
    </simpara>
   </listitem>
   </itemizedlist>
   <simpara><link linkend="book.ldap">LDAP:</link></simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>ldap_control_paged_results</function>
    </simpara>
     <simpara>
     <function>ldap_control_paged_results_response</function>
    </simpara>
   </listitem>
   </itemizedlist>
   <simpara><link linkend="book.intl">Intl:</link></simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>transliterator_create</function>
    </simpara>
     <simpara>
     <function>transliterator_create_from_rules</function>
    </simpara>
    <simpara>
     <function>transliterator_create_inverse</function>
    </simpara>
    <simpara>
     <function>transliterator_get_error_code</function>
    </simpara>
    <simpara>
     <function>transliterator_get_error_message</function>
    </simpara>
    <simpara>
     <function>transliterator_list_ids</function>
    </simpara>
    <simpara>
     <function>transliterator_transliterate</function>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.class-constants">
  <title>New Class Constants</title>
  <simpara>
   Several new class constants were introduced in 5.4.0:
  </simpara>

 </section>

 <section xml:id="migration54.methods">
  <title>New Methods</title>
  <simpara>
   Several new methods were introduced in 5.4.0:
  </simpara>

  <simpara><classname>XSL</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>XsltProcessor::setSecurityPrefs</function> und
     <function>XsltProcessor::getSecurityPrefs</function>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><classname>SPL</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>RegexIterator::getRegex</function>
     <function>SplObjectStorage::getHash</function>
     <function>DirectoryIterator::getExtension</function>
     <function>SplDoublyLinkedList::serialize</function>
     <function>SplDoublyLinkedList::unserialize</function>
     <function>SplFileInfo::getExtension</function>
     <function>SplFileObject::fputcsv</function>
     <function>SplQueue::serialize</function>
     <function>SplQueue::unserialize</function>
     <function>SplStack::serialize</function>
     <function>SplStack::unserialize</function>
     <function>SplTempFileObject::fputcsv</function>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><classname>Reflection</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>ReflectionExtension::isPersistent</function>
     <function>ReflectionExtension::isTemporary</function>
     <function>ReflectionClass::isCloneable</function>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><classname>Closure</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>Closure::bind</function>
     <function>Closure::bindTo</function>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><classname>PDO_dblib</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>PDO::newRowset</function>
    </simpara>
   </listitem>
  </itemizedlist>
 <simpara><classname>StreamWrapper</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>StreamWrapper::stream_metadata</function>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>StreamWrapper::stream_truncate</function>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.new-extensions">
  <title>New Extensions</title>
  <simpara>
   The following new extensions are added (by default) as of PHP 5.4.0:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New Extensions". -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.removed-extensions">
  <title>Removed Extensions</title>
  <simpara>
   These extensions have been moved to PECL and are no longer part of the PHP
   distribution. The PECL package versions of these extensions will be created
   according to user demand.
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="book.sqlite">sqlite</link> - Es ist zu beachten, dass
     ext/sqlite3 und ext/pdo_sqlite nicht betroffen sind
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.extensions-other">
  <title>Other changes to extensions</title>
  <simpara>
   The following extensions can no longer be disabled during build
   configuration:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Other changes to extensions" - Cannot be disabled during build. -->
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara>
   Changes in extension behaviour, and new features:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="book.mysqli">mysqli</link> -
     <function>mysqli_result</function> implementiert nun <link
     linkend="class.traversable">Traversable</link>
    </simpara>
   </listitem>
  </itemizedlist>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="ref.pdo-mysql">pdo_mysql</link> - Unterstützung für das
     Verbinden mit MySQL Client Bibliotheken älter als 4.1 entfernt
    </simpara>
   </listitem>
  </itemizedlist>
  <itemizedlist>
   <listitem>
    <simpara>
     Die MySQL Extensions <link linkend="book.mysql">mysql</link>, <link
     linkend="book.mysqli">mysqli</link> und <link
     linkend="ref.pdo-mysql">PDO_mysql</link> verwenden nun <link
     linkend="book.mysqlnd">mysqlnd</link> als Standardbibliothek. Es ist
     weiterhin möglich libmysql zu verwenden, indem ein Pfad in den
     Konfigurationsoptionen angegeben wird.
    </simpara>
   </listitem>
  </itemizedlist>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="book.mysqlnd">mysqlnd</link> - Unterstützung für benannte Pipes
     hinzugefügt
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.classes">
  <title>New Classes</title>
  <simpara>
   The following classes were introduced in PHP 5.4.0:
  </simpara>
  <simpara><link linkend="book.spl">SPL</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>CallbackFilterIterator</classname>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <classname>RecursiveCallbackFilterIterator</classname>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.reflection">Reflection</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>ReflectionZendExtension</classname>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.json">Json</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>JsonSerializable</classname> Interface
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.session">Session</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>SessionHandler</classname> Interface
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.snmp">Snmp</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>SNMP</classname>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.json">Intl</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>Transliterator</classname>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <classname>Spoofchecker</classname>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.global-constants">
  <title>New Global Constants</title>

  <simpara>PHP Core:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>ENT_DISALLOWED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_HTML401</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_HTML5</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_SUBSTITUTE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_XML1</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_XHTML</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IPPROTO_IP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IPPROTO_IPV6</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IPV6_MULTICAST_HOPS</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IPV6_MULTICAST_IF</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IPV6_MULTICAST_LOOP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IP_MULTICAST_IF</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IP_MULTICAST_LOOP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IP_MULTICAST_TTL</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_JOIN_GROUP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_LEAVE_GROUP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_BLOCK_SOURCE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_UNBLOCK_SOURCE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_JOIN_SOURCE_GROUP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_LEAVE_SOURCE_GROUP</constant>
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara><link linkend="book.curl">Curl</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>CURLOPT_MAX_RECV_SPEED_LARGE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>CURLOPT_MAX_SEND_SPEED_LARGE</constant>
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara><link linkend="book.libxml">LibXML</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>LIBXML_HTML_NODEFDTD</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>LIBXML_HTML_NOIMPLIED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>LIBXML_PEDANTIC</constant>
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara><link linkend="book.openssl">OpenSSL</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>OPENSSL_CIPHER_AES_128_CBC</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>OPENSSL_CIPHER_AES_192_CBC</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>OPENSSL_CIPHER_AES_256_CBC</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>OPENSSL_RAW_DATA</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>OPENSSL_ZERO_PADDING</constant>
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara><link linkend="book.outcontrol">Output buffering</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_CLEAN</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_CLEANABLE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_DISABLED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_FINAL</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_FLUSH</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_FLUSHABLE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_REMOVABLE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_STARTED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_STDFLAGS</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_WRITE</constant>
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara><link linkend="book.session">Sessions</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>PHP_SESSION_ACTIVE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_SESSION_DISABLED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_SESSION_NONE</constant>
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara><link linkend="book.stream">Streams</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>STREAM_META_ACCESS</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_GROUP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_GROUP_NAME</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_OWNER</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_OWNER_NAME</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_TOUCH</constant>
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara><link linkend="book.zlib">Zlib</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>ZLIB_ENCODING_DEFLATE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ZLIB_ENCODING_GZIP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ZLIB_ENCODING_RAW</constant>
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara><link linkend="book.intl">Intl</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>U_IDNA_DOMAIN_NAME_TOO_LONG_ERROR</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_CHECK_BIDI</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_CHECK_CONTEXTJ</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_NONTRANSITIONAL_TO_ASCII</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_NONTRANSITIONAL_TO_UNICODE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>INTL_IDNA_VARIANT_2003</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>INTL_IDNA_VARIANT_UTS46</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_EMPTY_LABEL</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_LABEL_TOO_LONG</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_DOMAIN_NAME_TOO_LONG</constant>
    </simpara>
   </listitem>
   <listitem>
   <simpara>
     <constant>IDNA_ERROR_LEADING_HYPHEN</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_TRAILING_HYPHEN</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_HYPHEN_3_4</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_LEADING_COMBINING_MARK</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_DISALLOWED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_PUNYCODE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_LABEL_HAS_DOT</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_INVALID_ACE_LABEL</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_BIDI</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_CONTEXTJ</constant>
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara><link linkend="book.json">Json</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>JSON_PRETTY_PRINT</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_UNESCAPED_SLASHES</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_NUMERIC_CHECK</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_UNESCAPED_UNICODE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_BIGINT_AS_STRING</constant>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.ini">
  <title>Änderungen an der INI-Dateibehandlung</title>
  <simpara>
   Die folgenden ini Direktiven wurden entfernt:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <literal>register_globals</literal> und <literal>register_long_arrays</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>allow_call_time_pass_reference</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>define_syslog_variables</literal> und alle zugehörigen Funktionen
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>highlight.bg</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>session.bug_compat_42</literal> und <literal>session.bug_compat_warn</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>y2k_compliance</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>safe_mode</literal> und alle zugehörigen Parameter
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>zend.ze1_compatibility_mode</literal>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   Die folgenden ini Direktiven wurden hinzugefügt:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <literal>cli.pager</literal> und <literal>cli.prompt</literal> für die CLI
     SAPI in Verbindung mit Readline im interaktiven Modus.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>max_input_vars</literal> - gibt an, wie viele GET/POST/COOKIE
     Eingabevariablen akzeptiert werden können.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>zend.multibyte</literal> - um die neue Multibyte-Unterstützung zu
     steuern.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>session.upload_progress.enabled</literal>, <literal>session.upload_progress.cleanup</literal>,
     <literal>session.upload_progress.prefix</literal>, <literal>session.upload_progress.name</literal>,
     <literal>session.upload_progress.freq</literal>, <literal>session.upload_progress.min_freq</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>enable_post_data_reading</literal> - Ist dies deaktiviert, werden
     POST Daten nicht gelesen (und verarbeitet)
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>windows_show_crt_warning</literal>
    </simpara>
   </listitem>
   </itemizedlist>
  <simpara>
   Die folgenden ini Direktiven wurden geändert:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <literal>default_charset</literal> ist nun standardmäßig UTF-8 anstelle von
     ISO-8859-1.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>session.entropy_file</literal> ist nun standardmäßig /dev/random
     oder /dev/urandom in Abhängigkeit von der Ermittlung zur Kompilierzeit.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>session.entropy_length</literal> ist nun standardmäßig 32.
    </simpara>
   </listitem>
   </itemizedlist>
 </section>

 <section xml:id="migration54.other">
  <title>Weitere Änderungen</title>
  <itemizedlist>
   <listitem>
    <simpara>
     Unterstützung für das Speichern der Upload-Fortschrittsrückmeldung in den
     Session-Daten hinzugefügt.
    </simpara>
    <simpara>
     session.entropy_file standardmäßig zu /dev/urandom oder /dev/arandom
     geändert, wenn eines der beiden zur Kompilierzeit vorhanden war.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>E_ALL</constant> beinhaltet nun <constant>E_STRICT</constant>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="book.snmp">SNMP</link> hat nun eine OOP API.
    </simpara>
    <simpara>
     Die Funktionen geben nun FALSE bei jeder Fehlerbedingung, einschließlich
     SNMP bezogenen (keine solche Instanz, Ende des MIB, usw.), zurück. Dies
     bricht insbesondere voriges Verhalten von get/walk Funktionen, die eine
     leere Zeichenkette bei SNMP bezogenen Fehlern zurückgaben.
    </simpara>
    <simpara>
      Multi-OID get/getnext/set Abfragen werden nun unterstützt.
    </simpara>
    <simpara>
     UCD-SNMP Kompatibilitätscode wurde verworfen; erwägen Sie ein Upgrade auf
     net-snmp v5.3+; Net-SNMP v5.4+ wird für die Windows-Version benötigt.
    </simpara>
    <simpara>
     Um Unterstützung für IPv6 hinzuzufügen, wird die DNS Namensauflösung von
     Remote-SNMP-Agents (Peer) nun durch die Extension durchgeführt, nicht mehr
     durch die Net-SNMP Bibliothek.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="book.openssl">OpenSSL</link> unterstützt nun AES.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="features.commandline">CLI SAPI</link> wird bei fatalen
     Fehlern nicht länger beendet, wenn der interaktive Modus mit Readline
     Unterstützung verwendet wird.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Fehlermeldungen des Parsers und Warnmeldungen für inkompatible Argumente in
     Funktionsaufrufen verbessert.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="language.variables.superglobals">$_SERVER['REQUEST_TIME_FLOAT']</link>
     wurde hinzugefügt, um Mikrosekundenpräzision zu enthalten.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     &lt;?= ist nun immer verfügbar, unabhängig von der <literal>short_open_tag</literal> Einstellung
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Unterstützung für Klassenmemberzugriff bei der Instanziierung (z.B. (new foo)-&gt;bar()) hinzugefügt
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Neue Hash-Algorithmen hinzugefügt: fnv132, fnv164, joaat
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Verkettete Zeichenkettenoffsets, z.B. $a[0][0], wobei $a eine Zeichenkette ist,
     sind nun möglich.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Binäres Zahlenformat wurde hinzugefügt, z.B. 0b001001101.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Kurze Array-Syntax wurde hinzugefügt, z.B. $a = [1, 2, 3, 4];
     $a = ['eins' => 1, 'zwei' => 2, 'drei' => 3, 'vier' => 4];
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Arrayzugriff auf Funktionsaufrufrückgabewerte: foo()[0]
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Closures unterstützen nun Geltungsbereiche und <literal>$this</literal>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Array-Casts von <type>SimpleXMLElement</type> enthalten nun immer alle
     Knoten anstatt nur des ersten passenden Knotens. Alle
     <type>SimpleXMLElement</type> Kinder werden nun immer angezeigt, wenn
     <function>var_dump</function>, <function>var_export</function> und
     <function>print_r</function> verwendet werden.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Es ist nun möglich, die __construct Argumente von Klassen in einem
     abstrakten Konstruktor in der Basisklasse zu erzwingen.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>
</appendix>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
