<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 312428 Maintainer: sammywg Status: ready -->
<refentry xmlns="http://docbook.org/ns/docbook" xml:id="function.html-entity-decode">
 <refnamediv>
  <refname>html_entity_decode</refname>
  <refpurpose>Konvertiert alle benannten HTML-Zeichen in ihre entsprechenden
     Ursprungszeichen</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>string</type><methodname>html_entity_decode</methodname>
   <methodparam><type>string</type><parameter>string</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>quote_style</parameter><initializer>ENT_COMPAT</initializer></methodparam>
   <methodparam choice="opt"><type>string</type><parameter>charset</parameter><initializer>'UTF-8'</initializer></methodparam>
  </methodsynopsis>
  <para>
   <function>html_entity_decode</function> ist das Gegenstück zu
   <function>htmlentities</function>, das alle benannten HTML-Zeichen
    innerhalb von <parameter>string</parameter> in ihre entsprechenden
    Ursprungszeichen zurückwandelt.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>string</parameter></term>
     <listitem>
      <para>
       The input string.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>quote_style</parameter></term>
     <listitem>
      <para>
       Der optionale zweite Parameter <parameter>quote_style</parameter> lässt
       Ihnen die Entscheidung, was mit 'einfachen' und "doppelten"
       Anführungszeichen geschehen soll. Sie können eine der drei genannten
       Konstanten einsetzen:
       <table>
        <title>Verfügbare <parameter>quote_style</parameter>-Konstanten</title>
        <tgroup cols="2">
         <thead>
          <row>
           <entry>Konstantenname</entry>
           <entry>&Description;</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry><constant>ENT_COMPAT</constant></entry>
           <entry>Konvertiert doppelte Anführungszeichen und lässt einfache
            Anführungszeichen unberührt.</entry>
          </row>
          <row>
           <entry><constant>ENT_QUOTES</constant></entry>
           <entry>Konvertiert sowohl doppelte als auch einfache
            Anführungszeichen.</entry>
          </row>
          <row>
           <entry><constant>ENT_NOQUOTES</constant></entry>
           <entry>Lässt sowohl doppelte als auch einfache Anführungszeichen
            unberührt.</entry>
          </row>
         </tbody>
        </tgroup>
       </table>
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>charset</parameter></term>
     <listitem>
      <para>
       Dieser Parameter gibt den Zeichensatz an, der für die Konvertierung
       genutzt werden soll. Wenn ein leerer String übergeben wird, wird ein
       Zeichensatz anhand des aktuellen mbstring Zeichensatzes und der
       aktuellen Sprache automatisch gewählt.
      </para>
      &reference.strings.charsets;
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Gibt die dekodierte Zeichenkette zurück.
  </para>
 </refsect1>

 <refsect1 role="changelog">
  &reftitle.changelog;
  <para>
   <informaltable>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>&Version;</entry>
       <entry>&Description;</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>5.4.0</entry>
       <entry>
        Der Standardzeichensatz wurde von ISO-8859-1 auf UTF-8 geändert.
       </entry>
      </row>
      <row>
       <entry>5.0.0</entry>
       <entry>
        Die Unterstützung für Multibyte-Zeichensätze wurde hinzugefügt.
       </entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Dekodieren benannter HTML-Zeichen</title>
    <programlisting role="php">
<![CDATA[
<?php
$orig = "I'll \"walk\" the <b>dog</b> now";

$a = htmlentities($orig);

$b = html_entity_decode($a);

echo $a; // I'll &quot;walk&quot; the &lt;b&gt;dog&lt;/b&gt; now

echo $b; // I'll "walk" the <b>dog</b> now


// Usern mit einer PHP-Version vor 4.3.0 hilft folgender Workaround:
function unhtmlentities($string)
{
    // replace numeric entities
    $string = preg_replace('~&#x([0-9a-f]+);~ei', 'chr(hexdec("\\1"))', $string);
    $string = preg_replace('~&#([0-9]+);~e', 'chr("\\1")', $string);
    // replace literal entities
    $trans_tbl = get_html_translation_table(HTML_ENTITIES);
    $trans_tbl = array_flip($trans_tbl);
    return strtr($string, $trans_tbl);
}

$c = unhtmlentities($a);

echo $c; // I'll "walk" the <b>dog</b> now

?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  <note>
   <para>
    Sie wundern sich vielleicht, warum trim(html_entity_decode('&amp;nbsp;'));
    den String nicht zu einem leeren Sting reduziert. Der Grund ist darin zu
    finden, dass '&amp;nbsp;' nicht dem Zeichen mit ASCII-Code 32 entspricht
    (dieser wird von <function>trim</function> entfernt), sondern dem Zeichen
    mit ASCII-Code 160 (0xa0) in der Standard-Zeichentabelle ISO 8859-1.
   </para>
  </note>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>htmlentities</function></member>
    <member><function>htmlspecialchars</function></member>
    <member><function>get_html_translation_table</function></member>
    <member><function>urldecode</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>


<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
