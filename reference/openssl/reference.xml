<?xml version="1.0" encoding="iso-8859-1"?>
 <reference id="ref.openssl">
  <title>OpenSSL Funktionen</title>
  <titleabbrev>OpenSSL</titleabbrev>
  <partintro>
       &warn.experimental;
  <section id="openssl.intro">
  <title>Einführung</title>
  <para>
   Dieses Modul nutzt die Funktionen von
   <ulink url="&url.openssl;">OpenSSL</ulink> zur Erzeugung und
   Überprüfung von Signaturen und zum versiegeln (verschlüsseln) und
   öffnen (entschlüsseln) von Daten.
   PHP-4.0.4pl1 setzt OpenSSL &gt;= 0.9.6 voraus, PHP-4.0.5 und
   folgende funktionieren auch mit OpenSSL &gt;= 0.9.5.
  </para>
   <note>
   <para>Bitte beachten Sie, dass diese Extension immer noch als
   experimentell einzustufen ist!</para>
  </note>
  <para>
   OpenSSL bietet viele Möglichkeiten die dieses Modul zum jetzigen
   Zeitpunkt nicht unterstützt. Einige dieser Möglichkeiten werden
   vielleicht in zukünftigen Versionen zur Verfügung stehen.
  </para>
  </section>
  <section id="openssl.certparams">
  <title>Schlüssel/Zertifikat Parameter</title>
  <para>
   Ziemlich viele der OpenSSL Funktionen benötigen einen Schlüssel-
   oder einen Zertifikatparameter. PHP 4.0.5 und frühere Versionen
   müssen eine Schlüssel- oder Zertifikatsresource nutzen, die von
   einer der openssl_get_xxx Funktionen zurückgegeben wird. Spätere
   Versionen können eine der folgenden Methoden benutzen:
   <itemizedlist>
    <listitem>
     <para>
      Zertifikate
      <orderedlist>
       <listitem><simpara>Eine X.509 Resource die von
       openssl_x509_read zurückgegeben wird.</simpara></listitem>
       <listitem><simpara>Eine Zeichenkette mit dem Format
       <filename>file://pfad/zu/cert.pem</filename>; die angegebene
       Datei muss ein PEM verschlüsseltes Zertifikat enthalten.
       </simpara></listitem>
       <listitem><simpara>Eine Zeichenkette die den Inhalt eines
       Zertifikats enthält, PEM verschlüsselt.
       </simpara></listitem>
      </orderedlist>
     </para>
    </listitem>
    <listitem>
     <para>
      Öffentliche/Private Schlüssel
      <orderedlist>
       <listitem><simpara>Eine Schlüsselresource die von
       <function>openssl_get_publickey</function> oder
       <function>openssl_get_privatekey</function> zurückgegeben
       wird.</simpara>
       </listitem>
       <listitem><simpara>Nur für öffentliche Schlüssel: eine X.509
       Resource.</simpara></listitem>
       <listitem><simpara>Eine Zeichenkette mit dem Format
       <filename>file://pfad/zu/datei.pem</filename> - die angegebene
       Datei muss ein PEM verschlüsseltes Zertifikat/privaten
       Schlüssel enthalten (kann auch beides enthalten).
       </simpara></listitem>
       <listitem><simpara>Eine Zeichenkette die den Inhalt eines
       Zertifikats/Schlüssels enthält, PEM verschlüsselt.</simpara>
       </listitem>
       <listitem><simpara>Für private Schlüssel können Sie auch die
       Syntax verwenden <emphasis>array($key, $passphrase)</emphasis>.
       $key repräsentiert einen Schlüssel, den Sie entweder mit der
       Notation file:// oder dem textlichen Inhalt wie oben angeben.
       $passphrase ist eine Zeichenfolge, die die Passphrase für den
       privaten Schlüssel enthält.
       </simpara></listitem>
      </orderedlist>
     </para>
    </listitem>
   </itemizedlist>
  </para>
  </section>
  <section id="openssl.cert.verification">
  <title>Zertifikat Nachweis</title>
  <para>
   Wenn Sie eine Funktion aufrufen, die eine Signatur/Zertifikat
   überprüft, ist der Parameter <emphasis>cainfo</emphasis> ein Array,
   das Datei- und Verzeichnisnamen enthält, die auf vertrauenswürdige
   CA Dateien verweisen. Falls Sie ein Verzeichnis angeben, muss dies ein
   korrekt geformtes gehashedes Verzeichnis sein, in der Art, wie es der Befehl
   <command>openssl</command> verwenden würde.
  </para>
  </section>
  <section id="openssl.pkcs7.flags">
   <title>PKCS7 Kennzeichen/Konstanten</title>
   <para>
    Die S/MIME Funktionen nutzen Kennzeichen die sich dadurch auszeichnen, dass
    sie ein Bitfeld benutzen, das einen oder mehrere der folgenden Werte
    enthalten kann:

    <table>
     <title>PKCS7 KONSTANTEN</title>
      <tgroup cols="2">
       <thead>
        <row>
         <entry>Konstante</entry>
         <entry>Beschreibung</entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>PKCS7_TEXT</entry>
         <entry>Fügt den text/plain Inhaltstyp Header einer
         verschlüsselten/signierten Nachricht hinzu.
         Wenn Sie entschlüsseln oder überprüfen, werden diese Header
         von der Ausgabe entfernt - wenn die entschlüsselte oder
         geprüfte Nachricht nicht dem MIME Typ text/plain entspricht,
         tritt ein Fehler auf.</entry>
        </row>
        <row>
         <entry>PKCS7_BINARY</entry>
         <entry>Normalerweise wird die Nachricht in ein "kanonisches"
         Format konvertiert, das effektiv CR und LF als Zeilende benutzt:
         wie von der S/MIME Spezifikation gefordert.
         Wird diese Option angegeben, findet keine Konvertierung statt.
         Das kann sich als nützlich erweisen, wenn Sie mit binären Daten
         umgehen, die nicht dem MIME Format entprechen.
         </entry>
        </row>
        <row>
         <entry>PKCS7_NOINTERN</entry>
         <entry>Wenn Sie eine Nachricht überprüfen, werden in der Nachricht
         enthaltene Zertifikate (falls es welche gibt) nach dem 
         unterzeichnenden Zertifikat durchsucht. Mit dieser Option werden
         nur Zertifikate benutzt, die mit dem Parameter 
         <parameter>extracerts</parameter> in der Funktion 
         <function>openssl_pkcs7_verify</function> angegeben wurden.
         Die mitgelieferten Zertifikate können aber dennoch als nicht
         vertrauenswürdige CAs benutzt werden.
         </entry>
        </row>
        <row>
         <entry>PKCS7_NOVERIFY</entry>
         <entry>Keine Überprüfung des signierenden Zertifikats
         einer signierten Nachricht.</entry>
        </row>
        <row>
         <entry>PKCS7_NOCHAIN</entry>
         <entry>Keine Verknüpfung der Überprüfung des Zertifikats mit den
         Zertifikaten des Unterzeichners: das bedeutet, die Zertifikate in
         der signierten Nachricht werden nicht als unvertrauenswürdige CAs
         benutzt.
         </entry>
        </row>
        <row>
         <entry>PKCS7_NOCERTS</entry>
         <entry>Beim Signieren einer Nachricht wird normalerweise das
         Zertifikat des Unterzeichnenden mit in die Nachricht
         aufgenommen - mit dieser Option wird das Zertifikat nicht
         mit aufgenommen. Diese Option verringert die Größe der signierten
         Nachricht, aber der Überprüfende muss eine lokale Kopie des
         Zertifikats vom Unterzeichnenden besitzen (zum Beispiel durch Angabe
         des Parameters <parameter>extracerts</parameter> in der Funktion
         <function>openssl_pkcs7_verify</function>).
         </entry>
        </row>
        <row>
         <entry>PKCS7_NOATTR</entry>
         <entry>Beim Signieren einer Nachricht wird normalerweise eine Reihe
         von Attributen mit angehängt. Diese enthalten die Zeit der Signierung
         und die unterstützen symmetrischen Algorithmen. Mit dieser Option werden
         diese Attribute nicht mit aufgenommen.
         </entry>
        </row>
        <row>
         <entry>PKCS7_DETACHED</entry>
         <entry>Beim Signieren einer Nachricht wird Klartext-Signierung
         verwendet mit MIME Typ multipart/signed. Das ist der Standard,
         wenn Sie keinen optionalen Parameter <parameter>flags</parameter>
         an die Funktion <function>openssl_pkcs7_sign</function> übergeben.
         Wenn Sie diese Option ausschalten wird die Nachricht mit einer 
         undurchsichtigen Signatur unterzeichnet. Dieses Verhalten ist robuster
         gegenüber der Übersetzung durch Mail-Relays, kann aber nicht mit
         Mailprogrammen gelesen werden, die nicht den S/Mime Standard
         unterstützen.
         </entry>
        </row>
        <row>
         <entry>PKCS7_NOSIGS</entry>
         <entry>Kein Versuch und keine Überprüfung der Signaturen einer
         Nachricht.
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
   </para>
   <note>
     <para>Diese Konstanten wurden in 4.0.6 hinzugefügt.</para>
    </note>

  </section>
  </partintro>

&reference.openssl.functions;

</reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

