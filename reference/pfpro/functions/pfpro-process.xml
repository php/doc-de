<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.3 $ -->
<!-- splitted from ./de/functions/pfpro.xml, last change in rev 1.1 -->
<!-- last change to 'pfpro-process' in en/ tree in rev 1.1 -->
<!-- EN-Revision: 1.2 Maintainer: nohn Status: ready -->
<!-- OLD-Revision: 1.12/EN.1.1 -->
  <refentry id="function.pfpro-process">
   <refnamediv>
    <refname>pfpro_process</refname>
    <refpurpose>Führt eine Transaktion mit Payflow Pro aus</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
     <methodsynopsis>
      <type>array</type><methodname>pfpro_process</methodname>
      <methodparam><type>array</type><parameter>parameters</parameter></methodparam>

      <methodparam choice="opt"><type>string</type><parameter>address</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>port</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>timeout</parameter></methodparam>
      <methodparam choice="opt"><type>string</type><parameter>proxy address</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>proxy port</parameter></methodparam>
      <methodparam choice="opt"><type>string</type><parameter>proxy logon</parameter></methodparam>
      <methodparam choice="opt"><type>string</type><parameter>proxy password</parameter></methodparam>
     </methodsynopsis>
    <para>
     Gibt einen assoziativen Array, der die Antwort enthält, zurück.
    </para>
    <para> 
     <function>pfpro_process</function> führt eine Transaktion mir Payflow Pro
     aus. Der erste Parameter ist ein assoziativer Array, der die Schlüssel und
     Werte enthält. Diese werden kodiert und an den PFPro-Prozessor
     weitergegeben.
    </para>
    <para>
     Der zweite Parameter ist optional und gibt den Host an, zu dem das
     Script sich verbinden soll. Voreingestellt ist "test.signio.com",
     normalerweise sollte dies in "connect.signio.com" geändert werden,
     um Transaktionen durchzuführen.
    </para>
    <para>
     Der dritte Parameter gibt den Port an, auf den das Script sicher verbinden
     soll. Voreingstellt ist 443, der Standard-SSL-Port.
    </para>
    <para>
     Der vierte Parameter gibt den Timeout-Wert in Sekunden an. Voreingestellt
     ist der Wert 30 Sekunden. Dieser Timeout gilt jedoch nur zu Beginn des
     Scripts, also kann es durchaus sehr lange dauern, wenn ein Netzwerkproblem
     auftritt, nachdem die Verbindung erfolgreich hergestellt wurde.
    </para>
    <para>
     Der fünfte Parameter gibt den SSL-Proxy an, falls dieser benötigt wird.
     Der sechste Parameter gibt den Port des Proxys an.
    </para>
    <para>
     Der siebte und der achte Parameter geben den Login-Namen und das
     Login-Passwort an.
    </para>
    <para>
     Die Funktion gibt einen assoziativen Array der Schlüssel und
     Werte zurück.
    </para>

    <note><para>
     Bitte lesen sie die Payflow Pro Entwicklerdokumentation für alle Details
     zu den erforderlichen Parametern.    
    </para></note>

    <example>
     <title>Payflow Pro Beispiel</title>
     <programlisting role="php">
<![CDATA[
<?php

pfpro_init();

$transaction = array(USER	=> 'mylogin',
		     PWD	=> 'mypassword',
		     TRXTYPE	=> 'S',
		     TENDER	=> 'C',
		     AMT	=> 1.50,
		     ACCT	=> '4111111111111111',
		     EXPDATE	=> '0904'
		     );

$response = pfpro_process($transaction);

if (!$response) {
  die("Couldn't establish link to Verisign.\n");
}

echo "Verisign response code was ".$response[RESULT];
echo ", which means: ".$response[RESPMSG]."\n";

echo "\nThe transaction request: ";
print_r($transaction);

echo "\nThe response: ";
print_r($response);

pfpro_cleanup();

?>
]]>
     </programlisting>
    </example>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
