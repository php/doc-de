<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.2 $ -->
<!-- EN-Revision: 1.13 Maintainer: samesch Status: ready -->
<!-- splitted from ./en/functions/pcre.xml, last change in rev 1.2 -->
  <refentry id="function.preg-match">
   <refnamediv>
    <refname>preg_match</refname>
    <refpurpose>
     Führt eine Suche mit einem regulären Ausdruck durch
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
     <methodsynopsis>
      <type>mixed</type><methodname>preg_match</methodname>
      <methodparam><type>string</type><parameter>Suchmuster</parameter></methodparam>
      <methodparam><type>string</type><parameter>Zeichenkette</parameter></methodparam>
      <methodparam choice="opt"><type>array</type><parameter>Treffer</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>Flags</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>Versatz</parameter></methodparam>
     </methodsynopsis>
    <para>
     Durchsucht <parameter>Zeichenkette</parameter> nach Übereinstimmungen mit
     dem in <parameter>Suchmuster</parameter> angegebenen regulären Ausdruck.
    </para>
    <para>
     Falls der Parameter <parameter>Treffer</parameter> angegeben wurde, wird
     er mit den Suchergebnissen gefüllt. <varname>$treffer[0]</varname>
     enthält dann den Text, der mit dem kompletten Suchmuster übereinstimmt,
     <varname>$treffer[1]</varname> den Text, der mit dem ersten
     eingeklammerten Teil-Suchmuster übereinstimmt und so weiter.
    </para>
    <para>
     <parameter>Flags</parameter> kann das folgende Flag sein:
     <variablelist>
      <varlistentry>
       <term>PREG_OFFSET_CAPTURE</term>
       <listitem>
        <simpara>
         Wenn dieses Flag gesetzt ist, wird mit jeder gefundenen
         Übereinstimmung der dazugehörige Versatz in der Zeichenkette
         zurückgegeben. Beachten Sie, dass dies die Rückgabewerte in einem
         Array dahingehend ändert, dass jedes Element ein Array ist, das aus
         der übereinstimmenden Zeichenkette als Element <literal>0</literal>
         und deren Stelle in der durchsuchten Zeichenkette als Element
         <literal>1</literal> besteht. Dieses Flag steht seit PHP 4.3.0 zur
         Verfügung.
        </simpara>
       </listitem>
      </varlistentry>
     </variablelist>
     Der Parameter <parameter>Flags</parameter> steht seit PHP 4.3.0. zur
     Verfügung.
    </para>

    <para>
     Normalerweise beginnt die Suche am Anfang der Zeichenkette. Der optionale
     Parameter <parameter>Versatz</parameter> kann verwendet werden, um eine
     andere Stelle anzugeben, ab der gesucht werden soll. Es ist der Übergabe
     von <function>substr</function>($zeichenkette, $versatz) an Stelle der
     Zeichenkette an <function>preg_match</function> gleichwertig. Der
     Parameter <parameter>Versatz</parameter> steht seit PHP 4.3.3 zur
     Verfügung.
    </para>

    <para>
     <function>preg_match</function> gibt die Anzahl der Übereinstimmungen mit
     <parameter>Suchmuster</parameter> zurück. Das ist entweder 0 (keine
     Übereinstimmung) oder 1, weil <function>preg_match</function> die Suche
     nach der ersten Übereinstimmung beendet. Im Gegensatz dazu setzt
     <function>preg_match_all</function> die Suche bis zum Ende von
     <parameter>Zeichenkette</parameter> fort. <function>preg_match</function>
     gibt &false; zurück, falls ein Fehler auftrat.
    </para>
    <tip>
     <para>
      Verwenden Sie nicht <function>preg_match</function>, wenn Sie nur
      überprüfen wollen, ob eine Zeichenkette in einer anderen Zeichenkette
      enthalten ist. Verwenden Sie dafür stattdessen die Funktionen
      <function>strpos</function> oder <function>strstr</function>, die das
      schneller erledigen.
     </para>
    </tip>
    <para>
     <example>
      <title>Die Zeichenkette "php" finden</title>
      <programlisting role="php">
<![CDATA[
<?php
// Das "i" nach der Suchmuster-Begrenzung kennzeichnet eine Suche ohne
// Berücksichtigung von Groß- und Kleinschreibung
if (preg_match("/php/i", "PHP ist die Web-Scripting-Sprache der Wahl.")) {
   echo "Es wurde eine Übereinstimmung gefunden.";
} else {
   echo "Es wurde keine Übereinstimmung gefunden.";
}
?>
]]>
      </programlisting>
     </example>
    </para>
    <para>
     <example>
      <title>Die Zeichenkette "web" finden</title>
      <programlisting role="php">
<![CDATA[
<?php
// Das \b im Suchmuster kennzeichnet eine Wortgrenze, weshalb nur
// eine Übereinstimmung mit der einzelnen Zeichenkette "web" gefunden wird und
// nicht ein Teilwort in "webbing" oder "cobweb"
if (preg_match("/\bweb\b/i", "Für das Web ist PHP die Scripting-Sprache der Wahl.")) {
   echo "Es wurde eine Übereinstimmung gefunden.";
} else {
   echo "Es wurde keine Übereinstimmung gefunden.";
}

if (preg_match("/\bweb\b/i", "PHP ist die Web-Scripting-Sprache der Wahl.")) {
   echo "Es wurde eine Übereinstimmung gefunden.";
} else {
   echo "Es wurde keine Übereinstimmung gefunden.";
}
?>
]]>
      </programlisting>
     </example>
    </para>
    <para>
     <example>
      <title>Den Domänen-Namen aus einer URL holen</title>
      <programlisting role="php">
<![CDATA[
<?php
// den Hostnamen aus URL holen
preg_match("/^(http:\/\/)?([^\/]+)/i",
    "http://www.php.net/index.html", $treffer);
$host = $treffer[2];

// die letzten beiden Segmente aus Hostnamen holen
preg_match("/[^\.\/]+\.[^\.\/]+$/", $host, $treffer);
echo "Der Domänen-Name lautet: {$treffer[0]}\n";
?>
]]>
      </programlisting>
      <para>
       Dieses Beispiel erzeugt:
      </para>
      <screen>
<![CDATA[
Der Domänen-Name lautet: php.net
]]>
      </screen>
     </example>
    </para>
    <para>
     Siehe auch <function>preg_match_all</function>,
     <function>preg_replace</function> und <function>preg_split</function>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
