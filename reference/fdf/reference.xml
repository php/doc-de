<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.4 $ -->
<!-- EN-Revision: 1.7 Maintainer: sts Status: ready -->
 <reference id="ref.fdf">
  <title>Forms Data Format Funktionen</title>
  <titleabbrev>FDF</titleabbrev>

  <partintro>

   <section id="fdf.intro">
   &reftitle.intro;
   <simpara>
    Forms Data Format (FDF) ist ein Format zur Verarbeitung von
    Formularen innerhalb von PDF Dokumenten.  Weiterführende
    Informationen zu FDF und dessen Verwendung sind unter <ulink
    url="&spec.pdf.fdf;">&spec.pdf.fdf;</ulink> zu finden.
   </simpara>
   <simpara>
    Der Ansatz den FDF verfolgt, ist vergleichbar mit dem üblicher
    HTML Formulare.  Die wesentlichen Unterschiede liegen in der
    Übertragung der Daten nach Absenden des Formulars (dies ist das
    eigentliche Form Data Format), sowie in dem Format des Dokuments
    welches das Formular enthält(PDF).  Die Verarbeitung der FDF Daten
    ist eine der Möglichkeiten, die die FDF Funktionen bereitstellen.
    Darüber hinaus kann man beispielsweise innerhalb eines vorhandenen
    PDF Formulars die Input Felder dynamisch mit Daten füllen, ohne
    das Formular selbst zu verändern.  Hierzu erzeugt man das FDF
    Dokument (<function>fdf_create</function>), setzt die Werte der
    jeweiligen Input Felder (<function>fdf_set_value</function>) und
    verbindet es mit dem jeweiligen PDF Formular
    (<function>fdf_set_file</function>).  Nachdem man das FDF
    Dokument, mit dem passenden MimeType
    <literal>application/vnd.fdf</literal> versehen, ausgegeben hat,
    erkennt das Acrobat Reader PlugIn des Browsers den MimeType und
    füllt das Zielformular mit den Daten des FDF Dokuments.   
   </simpara>

   <simpara>
    Betrachtet man ein FDF Dokument mit einem Text Editor, findet sich
    dort ein Katalog-Objekt <literal>FDF</literal>. Dieses Objekt kann
    mehrere Einträge der Art <literal>Fields</literal>,
    <literal>F</literal>, <literal>Status</literal> etc..
    enthalten. Die gebräuchlichsten Einträge sind
    <literal>Fields</literal>, welches zu einer Anzahl von Input
    Feldern verweist, sowie <literal>F</literal> das den Dateinamen
    des zugehörigen PDF Dokuments enthält. Diese Einträge finden sich
    in der FDF Dokumentation unter /F-Key oder /Status-Key.
    Modifikationen dieser Einträge werden mit Hilfe der Funktionen
    <function>fdf_set_file</function> und
    <function>fdf_set_status</function> vorgenommen.  Felder werden
    u.a. mit <function>fdf_set_value</function>,
    <function>fdf_set_opt</function> modifiziert.   
   </simpara>
   </section>

   <section id="fdf.requirements">
    &reftitle.required;
    <para>
     Benötigt wird das FDF-Toolkit-SDK, welches unter 
     <ulink url="&spec.pdf.fdf;">&spec.pdf.fdf;</ulink>
     heruntergeladen werden kann.
     Ab PHP-Version 4.3 ist mindestens die Version 5.0
     des FDF-SDKs erforderlich.
     Die FDF-Toolkit Bibliothek steht ausschließlich vorkompiliert 
     zur Verfügung. Von Adobe unterstütze Plattformen sind Win32, Linux, 
     Solaris und AIX.     
    </para>
   </section>

   &reference.fdf.configure;

   <section id="fdf.configuration">
    &reftitle.runtime;
    &no.config;
   </section>

   <section id="fdf.resources">
    &reftitle.resources;
    <section id="fdf.resources.fdf">
     <title>fdf</title>
     <para>
      Die meisten FDF-Funktionen benötigen an erster Stelle einen
      <parameter>fdf</parameter> Ressource-Parameter.
      Der Parameter <parameter>fdf</parameter> ist ein Zeiger auf 
      eine geöffnete FDF-Datei.
      <parameter>fdf</parameter> Ressource-Parameter werden von den 
      Funktionen <function>fdf_create</function>,
      <function>fdf_open</function> und <function>fdf_open_string</function>
      zurückgegeben.
     </para>
    </section>
   </section>

   &reference.fdf.constants;

   <section id="fdf.examples">
   &reftitle.examples;
    <para>
     Das Beispiel zeigt die Auswertung der Formular Daten.
     <example>
      <title>Auswertung eines FDF_Dokuments</title>
       <programlisting role="php">
<![CDATA[ 
<?php
// Speichern der FDF Daten in eine temporäre Datei
$fdffp = fopen("test.fdf", "w");
fwrite($fdffp, $HTTP_FDF_DATA, strlen($HTTP_FDF_DATA));
fclose($fdffp);

// Öffnen der temporären Datei und Auswertung der Daten
// Das PDF Formular enthält verschiedene Eingabefelder mit den zugehörigen Namen
// band, datum, kommentar, verleger, bearbeiter, sowie zwei Checkboxen
// zeige_verleger und zeige_bearbeiter.

$fdf = fdf_open("test.fdf");
$band = fdf_get_value($fdf, "band");
echo "Das Feld Band hat den Wert '<B>$band</B>'<BR>";

$datum = fdf_get_value($fdf, "datum");
echo "Das Feld Datum hat den Wert '<B>$datum</B>'<BR>";

$kommentar = fdf_get_value($fdf, "kommentar");
echo "Das Feld Kommentar hat den Wert '<B>$kommentar</B>'<BR>";

if (fdf_get_value($fdf, "zeige_verleger") == "On") {
    $verleger = fdf_get_value($fdf, "verleger");
    echo "Das Feld Verleger hat den Wert '<B>$verleger</B>'<BR>";
} else {
  echo "Verleger soll nicht angezeigt werden.<BR>";
}

if (fdf_get_value($fdf, "zeige_bearbeiter") == "On") {
  $bearbeiter = fdf_get_value($fdf, "bearbeiter");
  echo "Das Feld Bearbeiter hat den Wert '&<B>$bearbeiter</B>'<BR>";
} else {
  echo "Bearbeiter soll nicht angezeigt werden.<BR>";
}
fdf_close($fdf);
?>
]]>
       </programlisting>
     </example>
    </para>
   </section>
     </partintro>

&reference.fdf.functions;

 </reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->



