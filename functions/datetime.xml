 <reference id="ref.datetime">
  <title>Datums- und Zeit-Funktionen

</title>

  <titleabbrev>Datum/Zeit</titleabbrev>

  <refentry id="function.checkdate">
   <refnamediv>
    <refname>checkdate</refname>
    <refpurpose>prüft ein Datum auf Gültigkeit</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcdef>int <function>checkdate</function></funcdef>
     <paramdef>int <parameter>Monat</parameter></paramdef>
     <paramdef>int <parameter>Tag</parameter></paramdef>
     <paramdef>int <parameter>Jahr</parameter></paramdef>
    </funcsynopsis>
    <para>
     Gibt true/wahr zurück, wenn das angegebene Datum gültig ist, sonst wird 
     false/falsch zurückgegeben. Prüft die Gültigkeit der angebenen Datumswerte.
     Ein Datum wird als gültig angesehen, wenn
     <itemizedlist>
      <listitem><simpara>
        das Jahr zwischen 0 und 32767 (inclusive) ist,
       </simpara></listitem>
      <listitem><simpara>
        der Monat zwischen 1 und 12 (inclusive) ist und
       </simpara></listitem>
      <listitem><simpara>
        der Tag innerhalb der erlaubten Werte des angegebenen Monats ist.
        Schaltjahre werden berücksichtigt. 
       </simpara></listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>


  <refentry id="function.date">
   <refnamediv>
    <refname>date</refname>
    <refpurpose>formatiert ein(e) angegebene(s) Zeit / Datum</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcdef>string <function>date</function></funcdef>
     <paramdef>string <parameter>format</parameter></paramdef>
     <paramdef>int <parameter><optional>timestamp</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     Gibt einen formatierten String anhand eines vorzugebenden Musters
     zurück. Dabei wird entweder der angegebene <parameter>timestamp</parameter>
     oder die gegenwärtige lokale Zeit berücksichtigt, wenn kein timestamp
     gegeben ist.</para>
    <para>
     Die folgenden Platzhalter werden zur Formatierung benutzt:
     <itemizedlist>
      <listitem><simpara>a - "am" oder "pm"</simpara></listitem>
      <listitem><simpara>A - "AM" oder "PM"</simpara></listitem>
      <listitem><simpara>d - Tag des Monats, 2-stellig mit führender Null: "01" bis "31"</simpara></listitem>
      <listitem><simpara>D - Tag der Woche als 3 Buchstaben, z.B. "Fri"</simpara></listitem>
      <listitem><simpara>F - Monat als ganzes Wort, z.B "January"</simpara></listitem>
      <listitem><simpara>h - Stunde im 12-Stunden-Format: "01" bis "12"</simpara></listitem>
      <listitem><simpara>H - Stunde im 24-Stunden-Format: "00" bis "23"</simpara></listitem>
      <listitem><simpara>g - Stunde im 12-Stunden-Format ohne führende Null: "1" bis "12"</simpara></listitem>
      <listitem><simpara>G - Stunde im 24-Stunden-Format ohne führende Null: "0" bis "23"</simpara></listitem>
      <listitem><simpara>i - Minuten: "00" bis "59"</simpara></listitem>
      <listitem><simpara>j - Tag des Monats ohne führende Null: "1" bis "31"</simpara></listitem>
      <listitem><simpara>l - (kleines 'L') ausgeschriebener Tag der Woche, z.B. "Friday"</simpara></listitem>
      <listitem><simpara>L - boolscher Wert für Schaltjahre: "0" oder "1"</simpara></listitem>
      <listitem><simpara>m - Monat: "01" to "12"</simpara></listitem>
      <listitem><simpara>n - Monat ohne führende Null: "1" bis "12"</simpara></listitem>
      <listitem><simpara>M - Monat als 3 Buchstaben, z.B. "Jan"</simpara></listitem>
      <listitem><simpara>s - Sekunden: "00" bis "59"</simpara></listitem>
      <listitem><simpara>S - Anhang der englischen Aufzählung, 2 Buchstaben, z.B. "th" [bei 4 für fourth], "nd" [bei 2 für second]</simpara></listitem>
      <listitem><simpara>t - Anzahl der Tage des angegebenen Monats: "28" bis "31"</simpara></listitem>
      <listitem><simpara>U - Sekunden seit Beginn der UNIX-Epoche (1.1.1970)</simpara></listitem>
      <listitem><simpara>w - Wochentag beginnend mit "0" (Sonntag) bis "6" (Samstag)</simpara></listitem>
      <listitem><simpara>Y - Jahr als vierstellige Zahl, z.B. "1999"</simpara></listitem>
      <listitem><simpara>y - Jahr als zweistellige Zahl, z.B. "99"</simpara></listitem>
      <listitem><simpara>z - Tag des Jahres: "0" bis "365"</simpara></listitem>
      <listitem><simpara>Z - Offset der Zeitzone gegen GTM ("-43200" bis "43200") in Minuten</simpara></listitem>
     </itemizedlist>
     Nicht definierte Zeichen werden unverändert zurück gegeben.
     Das "Z"-Format gibt "0" zurück beim Gebrauch von <function>gmdate()</function>.
     <example>
      <title><function>date</function> example</title>
      <programlisting role="php">
        print (date("l dS of F Y h:i:s A"));
        print ("July 1, 2000 is on a " . date("l", mktime(0,0,0,7,1,2000)));
      </programlisting>
     </example></para>
    <para>
     Es ist möglich, <function>date</function> und
     <function>mktime</function> gleichzeitig zu verwenden, um
     Datumsangaben der Zukunft / Vergangenheit herauszufinden.     <example>
      <title>
       <function>date</function> und <function>mktime</function> Beispiel
      </title>
      <programlisting>
        $heute  = mktime(0,0,0,date("m")  ,date("d")+1,date("Y"));
        $letztermonat = mktime(0,0,0,date("m")-1,date("d"),  date("Y"));
        $naechstesjahr = mktime(0,0,0,date("m"),  date("d"),  date("Y")+1);
      </programlisting>
     </example>
    </para>
    <para>
     Um Datumsangaben in anderen Sprach- / Zeitzonen-Formaten auszugeben, sollten sie die Funktionen
     <function>setlocale</function> und <function>strftime</function> nutzen.
    </para>
    <para>
     Siehe auch <function>gmdate</function> und <function>mktime</function>.
    </para>
   </refsect1>
  </refentry>


  <refentry id="function.getdate">
   <refnamediv>
    <refname>getdate</refname>
    <refpurpose>gibt Datums- und Zeitinformationen zurück</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcdef>array <function>getdate</function></funcdef>
     <paramdef>int <parameter>timestamp</parameter></paramdef>
    </funcsynopsis>
    <para>
     Gibt ein assoziatives Array mit Datums- und Zeitangaben des angegebenen Timestamp zurück.
     Die Arrayelemente sind folgende:
     <itemizedlist>
      <listitem><simpara>"seconds" - Sekunden</simpara></listitem>
      <listitem><simpara>"minutes" - Minuten</simpara></listitem>
      <listitem><simpara>"hours" - Stunden</simpara></listitem>
      <listitem><simpara>"mday" - Tag des Monats</simpara></listitem>
      <listitem><simpara>"wday" - numerischer Tag der Woche</simpara></listitem>
      <listitem><simpara>"mon" - Monat als Zahl</simpara></listitem>
      <listitem><simpara>"year" - Jahr als Zahl</simpara></listitem>
      <listitem><simpara>"yday" - Tag des Jahres als Zahlwert, z.B. "299"</simpara></listitem>
      <listitem><simpara>"weekday" - ausgeschriebener Wochentag, z.B. "Friday"</simpara></listitem>
      <listitem><simpara>"month" - ausgeschriebener Monatsname, z.B. "January"</simpara></listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gettimeofday">
   <refnamediv>
    <refname>gettimeofday</refname>
    <refpurpose>gibt die aktuelle Zeit zurück</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcdef>array <function>gettimeofday</function></funcdef><paramdef>void</paramdef>
    </funcsynopsis>
    <para>
     Es handelt sich um eine Schnittstelle zum Systemaufruf von gettimeofday(2). 
     Die Zeitangaben werden als assoziatives Array zurück gegeben. Folgende Arrayelemente
     sind vorhanden:
     <itemizedlist>
      <listitem><simpara>"sec" - Sekunden</simpara></listitem>
      <listitem><simpara>"usec" - Microsekunden</simpara></listitem>
      <listitem><simpara>"minuteswest" - Minuten westlich von Greenwich</simpara></listitem>
      <listitem><simpara>"dsttime" - Art der Korrektur der Sommerzeit</simpara></listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gmdate">
   <refnamediv>
    <refname>gmdate</refname>
    <refpurpose>formatiert eine GMT Zeitangabe</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcdef>string <function>gmdate</function></funcdef>
     <paramdef>string <parameter>format</parameter></paramdef>
     <paramdef>int <parameter>timestamp</parameter></paramdef>
    </funcsynopsis>
    <para>
     Entspricht der <function>date</function> Funktion, ausser das als Zeitangabe immer 
     Greenwich Mean Time (GMT) zurück gegeben wird. Steht ihr System in Deutschland (GMT + 01:00) 
     wird im Beispiel unten (1. Zeile) "Jan 01 1998 00:00:00" ausgegeben, wogegen die 2. Zeile 
     "Dec 31 1997 23:00:00" zurück gibt.
     <example>
      <title><function>gmdate</function> Beispiel</title>
      <programlisting role="php">
       echo date( "M d Y H:i:s",mktime(0,0,0,1,1,1998) )."\n";
       echo gmdate( "M d Y H:i:s",mktime(0,0,0,1,1,1998) )."\n";
      </programlisting>
     </example>
    </para>
    <para>
     Siehe auch <function>date</function>, <function>mktime</function> und <function>gmmktime</function>.
    </para>
   </refsect1>
  </refentry>


  <refentry id="function.gmmktime">
   <refnamediv>
    <refname>gmmktime</refname>
    <refpurpose>gibt den UNIX timestamp (Zeitstempel) als GMT zurück</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcdef>int <function>gmmktime</function></funcdef>
     <paramdef>int <parameter>Stunde</parameter></paramdef>
     <paramdef>int <parameter>Minute</parameter></paramdef>
     <paramdef>int <parameter>Secunde</parameter></paramdef>
     <paramdef>int <parameter>Monat</parameter></paramdef>
     <paramdef>int <parameter>Tag</parameter></paramdef>
     <paramdef>int <parameter>Jahr</parameter></paramdef>
     <paramdef>int <parameter><optional>is_dst</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     Identisch zu <function>mktime</function>. Die negegebenen Parameter 
     werden aber als GMT-Datum / Zeit zurück gegeben.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gmstrftime">
   <refnamediv>
    <refname>gmstrftime</refname>
    <refpurpose>wandelt eine lokale Zeitangabe in GMT-Format um.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Bschreibung</title>
    <funcsynopsis>
     <funcdef>string <function>gmstrftime</function></funcdef>
     <paramdef>string <parameter>format</parameter></paramdef>
     <paramdef>int <parameter>timestamp</parameter></paramdef>
    </funcsynopsis>
    <note>
     <para>
      Erst ab Version 3.0.12
     </para>
    </note>
    <para>
     Bewirkt das gleiche wie <function>strftime</function> mit dem Unterschied,
     dass die GMT-Zeit zurück gegeben wird. In Deutschland (GMT + 01:00) wird im folgenden
     Beispiel bei strftime "Dec 31 1998 00:00:00", bei gmstrftime dagegen "Dec 31 1998 23:00:00"
     ausgegeben.
     <example>
      <title><function>gmstrftime</function> Beispiel</title>
      <programlisting role="php">
        setlocale ('LC_TIME','ge');
        echo strftime ("%b %d %Y %H:%M:%S",mktime(0,0,0,12,31,98))."\n";
        echo gmstrftime ("%b %d %Y %H:%M:%S",mktime(0,0,0,12,31,98))."\n";
      </programlisting>
     </example>
    </para>
    <para>
     Siehe auch <function>strftime</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.microtime">
   <refnamediv>
    <refname>microtime</refname>
    <refpurpose>gibt den aktuellen UNIX timestamp / Zeitstempel in Mikrosekunden zurück</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcdef>string <function>microtime</function></funcdef>
     <void/>
    </funcsynopsis>
    <para>
     Gibt die Zeichenkette "msec sec" zurück, wobei sec die aktuelle Zeit ist,
     ausgedrückt als Anzahl der Sekunden seit Beginn der UNIX-Epoche (0:00:00
     January 1, 1970 GMT). Msec stellt den Mikrosekunden-Teil dar. Diese Funktion ist
     nur auf Systemen möglich, die den Systemaufruf gettimeofday() unterstützen.
    </para>
    <para>
     Siehe auch <function>time</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.mktime">
   <refnamediv>
    <refname>mktime</refname>
    <refpurpose>gibt den UNIX timestamp / Zeitstempel für ein Datum zurück</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcdef>int <function>mktime</function></funcdef>
     <paramdef>int <parameter>Stunde</parameter></paramdef>
     <paramdef>int <parameter>Minute</parameter></paramdef>
     <paramdef>int <parameter>Sekunde</parameter></paramdef>
     <paramdef>int <parameter>Monat</parameter></paramdef>
     <paramdef>int <parameter>Tag</parameter></paramdef>
     <paramdef>int <parameter>Jahr</parameter></paramdef>
     <paramdef>int <parameter><optional>is_dst</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     <emphasis>Warnung:</emphasis> Beachten sie die andersartige Anordnung der
     Argumente. Diese unterscheidet sich von der Reihenfolge des UNIX-Befehls mktime().
     Das ist eine häufige Fehlerursache in Scripts.
    </para>
    <para>
     Gibt den UNIX timestamp / Zeitstempel an Hand der gegebenen Argumente zurück.
     Der Zeitstempel ist ein long-integer-Wert, der die Anzahl der Sekunden zwischen der
     UNIX Epoche (01.01.1970) und der angegebenen Zeit enthält.     
    </para>
    <para>
     Einzelne Argumente können von rechts nach links weggelassen werden.
     Sie werden dann ersetzt mit den Werten der lokalen Systemzeit bzw. des lokalen
     Systemdatums.
    </para>
    <para>
     <parameter>is_dst</parameter> kann bei Sommerzeit auf 1 gesetzt werden. 
     0 bedeutet Winter- / Normalzeit, -1 (Vorgabewert) heisst, dass nicht bekannt
     ist, ob Sommer- oder Winterzeit herrscht.
    </para>
    <note>
     <para><parameter>is_dst</parameter> wurde in 3.0.10. eingeführt.</para>
    </note>
    <para>
     <function>mktime</function> ist hilfreich bei Datumsberechnungen und -überprüfungen, 
     z.B. wird versucht, automatisch das korrekte Datum zu berechnen. So wird in den folgenden 
     Beispielen immer die Zeichenkette "Jan-01-1998" ausgegeben.
     <example>
      <title><function>mktime</function> Beispiel</title>
      <programlisting>
        echo date( "M-d-Y", mktime(0,0,0,12,32,1997) );
        echo date( "M-d-Y", mktime(0,0,0,13,1,1997) );
        echo date( "M-d-Y", mktime(0,0,0,1,1,1998) );
        echo date( "M-d-Y", mktime(0,0,0,1,1,98) );
      </programlisting>
     </example>
     <parameter>year</parameter> darf auch zweistellig angegeben werden. 
     Werte von 0 bis 69 stehen dann für die Jahre 2000 bis 2069, 
     und 70 bis 99 für die Jahre von 1970-1999 
     (auf Systemen, die time_t als 32Bit-Integer abbilden, liegt der
     gültige Bereich für <parameter>year</parameter> zwischen 1902
     und 2037).
    </para>
    <para>
     Der letzte Tag eines gegebenen Monats kann als der Tag "0" des nächsten Monats
     ausgedrückt werden (nicht als der Tag "-1"). Jedes der folgenden Beispiele gibt
     die Zeichenkette "Letzter Tag im Feb. 2000 ist der 29." zurück.
     <example>
      <title>Letzter Tag des nächsten Monats</title>
      <programlisting>
        $lastday=mktime(0,0,0,3,0,2000);
        echo strftime("Letzter Tag im Feb. 2000 ist der %d.",$lastday);

        $lastday=mktime(0,0,0,4,-31,2000);
        echo strftime("Letzter Tag im Feb. 2000 ist der %d.",$lastday);
      </programlisting>
     </example>
    </para>
    <para>
     Siehe auch <function>date</function> und <function>time</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.strftime">
   <refnamediv>
    <refname>strftime</refname>
    <refpurpose>formatiert eine Zeit-/Datumsangabe nach den lokalen Einstellungen
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcdef>string <function>strftime</function></funcdef>
     <paramdef>string <parameter>format</parameter></paramdef>
     <paramdef>int <parameter>timestamp</parameter></paramdef>
    </funcsynopsis>
    <para>
     Gibt einen String zurück, der den angegebenen Formatierungs-Merkmalen entspricht.
     Dabei wird der gegebene Timestamp / Zeitstempel oder - falls dieser fehlt - die momentane
     lokale Zeit benutzt. Monats- und Wochentagsname wird entsprechend des per
     <function>setlocale</function> eingestellten Wertes gesetzt.
    </para>
    <para>
     Nachfolgend die im Formatierungsstring zu gebrauchenden Platzhalter:
     <itemizedlist>
      <listitem><simpara>%a - abgekürzter Name des Wochentages, abhängig von der gesetzten Umgebung</simpara></listitem>
      <listitem><simpara>%A - ausgeschriebener Name des Wochentages, abhängig von der gesetzten Umgebung</simpara></listitem>
      <listitem><simpara>%b - abgekürzter Name des Monats, abhängig von der gesetzten Umgebung</simpara></listitem>
      <listitem><simpara>%B - ausgeschreibener Name des Monats, abhängig von der gesetzten Umgebung</simpara></listitem>
      <listitem><simpara>%c - Wiedergabewerte für Datum und Zeit, abhängig von der gesetzten Umgebung</simpara></listitem>
      <listitem><simpara>%d - Tag des Monats als Zahl (Bereich 00 bis 31)</simpara></listitem>
      <listitem><simpara>%H - Stunde als Zahl im 24-Stunden-Format (Bereich 00 bis 23)</simpara></listitem>
      <listitem><simpara>%I - Stunde als Zahl im 12-Stunden-Format (Bereich 01 bis 12)</simpara></listitem>
      <listitem><simpara>%j - Tag des Jahres als Zahl (Bereich 001 bis 366)</simpara></listitem>
      <listitem><simpara>%m - Monat als Zahl (Bereich 1 bis 12)</simpara></listitem>
      <listitem><simpara>%M - Minute als Zahl</simpara></listitem>
      <listitem><simpara>%p - entweder `am' oder `pm' (abhängig von der gesetzten Umgebung) oder die entsprechenden Zeichenketten der gesetzten Umgebung</simpara></listitem>
      <listitem><simpara>%S - Sekunden als Zahl</simpara></listitem>
      <listitem><simpara>%U - Nummer der Woche des aktuellen Jahres, beginnend mit dem ersten Sonntag als erstem Tag der ersten Woche</simpara></listitem>
      <listitem><simpara>%W - Nummer der Woche des aktuellen Jahres, beginnend mit dem ersten Montag als erstem Tag der ersten Woche</simpara></listitem>
      <listitem><simpara>%w - Wochentag als Zahl, Sonntag ist 0</simpara></listitem>
      <listitem><simpara>%x - bevorzugte Datumswiedergabe (ohne Zeit), abhängig von der gesetzten Umgebung</simpara></listitem>
      <listitem><simpara>%X - bevorzugte Zeitwiedergabe (ohne Datum), abhängig von der gesetzten Umgebung</simpara></listitem>
      <listitem><simpara>%y - Jahr als 2-stellige-Zahl (Bereich 00 bis 99)</simpara></listitem>
      <listitem><simpara>%Y - Jahr als 4-stellige-Zahl</simpara></listitem>
      <listitem><simpara>%Z - Zeitzone</simpara></listitem>
      <listitem><simpara>%% - ein %-Zeichen</simpara></listitem>
     </itemizedlist>

     <example>
      <title><function>strftime</function> Beispiel</title>
      <programlisting role="php">
        setlocale ("LC_TIME", "C");
        print(strftime("%A in Finnland ist "));
        setlocale ("LC_TIME", "fi_FI");
        print(strftime("%A, in Frankreich "));
        setlocale ("LC_TIME", "fr_CA");
        print(strftime("%A und in Deutschland "));
        setlocale ("LC_TIME", "de_DE");
        print(strftime("%A.\n"));
      </programlisting>
     </example>
      Diese Beispiel funktioniert, wenn sie die jeweilige Umgebung in
      ihrem System eingestellt haben.
     </para>
    <para>
     Siehe auch <function>setlocale</function> und <function>mktime</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.time">
   <refnamediv>
    <refname>time</refname>
    <refpurpose>gibt den gegenwärtigen UNIX-timestamp / Zeitstempel zurück</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcdef>int <function>time</function></funcdef>
     <void/>
    </funcsynopsis>
    <para>
     Gibt die seit Beginn der UNIX-Epoche (Januar 1 1970 00:00:00 GMT)
     bis jetzt vergangenen Sekunden zurück.
    </para><para>
     Siehe auch <function>date</function>.
    </para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
