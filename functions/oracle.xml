 <reference id="ref.oracle">
  <title>Oracle Funktionen</title>
  <titleabbrev>Oracle</titleabbrev>

  <refentry id="function.ora-bind">
   <refnamediv>
    <refname>Ora_Bind</refname>
    <refpurpose>Bindet eine PHP-Variable an einen Oracle-Parameter</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_bind</function></funcdef>
      <paramdef>int <parameter>cursor</parameter></paramdef>
      <paramdef>string <parameter>PHP-Variablenname</parameter></paramdef>
      <paramdef>string <parameter>SQL-Parametername</parameter></paramdef>
      <paramdef>int <parameter>Länge</parameter></paramdef>
      <paramdef>int <parameter><optional>Typ</optional></parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt nach erfolgter Bindung true, andernfalls false zurück.
     Einzelheiten über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <para>
     Diese Funktion bindet die genannte PHP-Variable an einen SQL-Parameter.
     Der SQL-Parameter muss von der Form ":name" sein. Mit dem optionalen
     Patameter <parameter>Typ</parameter> können sie definieren, ob der
     SQL-Parameter ein in/out- (0, Grundeinstellung), in- (1) oder out- (2)
     Parameter ist. Ab PHP 3.0.1 können Sie statt der Zahlen die Konstanten
     ORA-BIND_INOUT, ORA_BIND_IN und ORA_BIND_OUT verwenden.
    </para>
    <para>
     <function>ora_bind</function> muss nach <function>ora_parse</function> und
     vor <function>ora_exec</function> aufgerufen werden. Die Eingabewerte
     können durch Zuweisung an die gebundenen PHP-Variablen angegeben werden.
     Nach dem Aufruf von <function>ora_exec</function> enthalten die gebunden
     PHP-Variablen die Ausgabewerte, falls diese verfügbar sind.
     <informalexample>
      <programlisting role="php">
&lt;?php
ora_parse($curs, "declare tmp INTEGER; begin tmp := :in; :out := tmp; :x := 7.77; end;");
ora_bind($curs, "ergebnis", ":x", $len, 2);
ora_bind($curs, "eingabe", ":in", 5, 1);
ora_bind($curs, "ausgabe", ":out", 5, 2);
$eingabe = 765;
ora_exec($curs);
echo "Ergebnis: $ergebnis&lt;BR>Ausgabe: $ausgabe&lt;BR>Eingabe: $eingabe";
?>
      </programlisting>
     </informalexample>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-close">
   <refnamediv>
    <refname>Ora_Close</refname>
    <refpurpose>Schließt einen Oracle-Cursor</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_close</function></funcdef>
      <paramdef>int <parameter>Cursor</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt nach erfolgtem Schließen true, andernfalls false zurück. Einzelheiten
     über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <para>
     Diese Funktion schließt den mittels <function>ora_open</function> geöffneten
     Daten-Cursor.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-columnname">
   <refnamediv>
    <refname>Ora_ColumnName</refname>
    <refpurpose>Liefert den Namen eines Oracle Ergebnisfeldes</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>Ora_ColumnName</function></funcdef>
      <paramdef>int <parameter>Cursor</parameter></paramdef>
      <paramdef>int <parameter>Feld</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt den Namen des Feldes <parameter>Feld</parameter> des Cursors
     <parameter>Cursor</parameter> zurück. Der zurückgegebene Name ist komplett
     in Großbuchstaben.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-columnsize">
   <refnamediv>
    <refname>Ora_ColumnSize</refname>
    <refpurpose>Liefert die Größe eines Oracle Ergebnisfeldes</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>Ora_ColumnSize</function></funcdef>
      <paramdef>int <parameter>Cursor</parameter></paramdef>
      <paramdef>int <parameter>Feld</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt die Größe des Feldes <parameter>Feld</parameter> des Cursors
     <parameter>Cursor</parameter> zurück.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-columntype">
   <refnamediv>
    <refname>Ora_ColumnSize</refname>
    <refpurpose>Liefert den Typ eines Oracle Ergebnisfeldes</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>Ora_ColumnType</function></funcdef>
      <paramdef>int <parameter>cursor</parameter></paramdef>
      <paramdef>int <parameter>column</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt den Datentyp des Feldes <parameter>Feld</parameter> des Cursors
     <parameter>Cursor</parameter> zurück. Der zurückgegebene Typ ist einer der
     folgenden:
     <simplelist>
      <member><literal>"VARCHAR2"</literal></member>
      <member><literal>"VARCHAR"</literal></member>
      <member><literal>"CHAR"</literal></member>
      <member><literal>"NUMBER"</literal></member>
      <member><literal>"LONG"</literal></member>
      <member><literal>"LONG RAW"</literal></member>
      <member><literal>"ROWID"</literal></member>
      <member><literal>"DATE"</literal></member>
      <member><literal>"CURSOR"</literal></member>
     </simplelist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-commit">
   <refnamediv>
    <refname>Ora_Commit</refname>
    <refpurpose>Bestätigt eine Oracle-Transaction</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_commit</function></funcdef>
      <paramdef>int <parameter>conn</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt bei Erfolg true und bei Auftreten eines Fehlers false zurück.
     Einzelheiten über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <para>
     Diese Funktion bestätigt eine Oracle-Transaktion. Eine Transaktion ist
     definiert als Gesamtheit aller Änderungen seit der letzten Bestätigung/dem
     letzten Rollback, seit die automatische Bestätigung (autocommit)
     abgeschaltet wurde oder seit die Verbindung besteht.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-commitoff">
   <refnamediv>
    <refname>Ora_CommitOff</refname>
    <refpurpose>Schaltet die automatische Bestätigung ab</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_commitoff</function></funcdef>
      <paramdef>int <parameter>conn</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt bei Erfolg true und bei Auftreten eines Fehlers false zurück.
     Einzelheiten über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <para>
     Diese Funktion schaltet die automatische Bestätigung nach jedem
     Aufruf von <function>ora_exec</function> ab.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-commiton">
   <refnamediv>
    <refname>Ora_CommitOn</refname>
    <refpurpose>enable automatic commit</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_commiton</function></funcdef>
      <paramdef>int <parameter>conn</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt bei Erfolg true und bei Auftreten eines Fehlers false zurück.
     Einzelheiten über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <para>
     Diese Funktion schaltet die automatische Bestätigung nach jedem
     Aufruf von <function>ora_exec</function> über die angegebene Verbindung
     ein.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-do">
   <refnamediv>
    <refname>Ora_Do</refname>
    <refpurpose>Parse, Exec, Fetch</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_do</function></funcdef>
      <paramdef>int <parameter>conn</parameter></paramdef>
      <paramdef>string <parameter>query</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt bei Erfolg true und bei Auftreten eines Fehlers false zurück.
     Einzelheiten über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <para>
     This function is quick combination of <function>ora_parse</function>,
     <function>ora_exec</function> and <function>ora_fetch</function>.
     It will parse and execute a statement, then fetch the first result row.
    </para>
    <simpara>
     Siehe auch: <function>ora_parse</function>,<function>ora_exec</function>
     und <function>ora_fetch</function>.
    </simpara>
   </refsect1>
  </refentry>

  <refentry id="function.ora-error">
   <refnamediv>
    <refname>Ora_Error</refname>
    <refpurpose>get Oracle error message</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>ora_error</function></funcdef>
      <paramdef>int <parameter>cursor_or_connection</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Returns an error message of the form
     <replaceable>XXX</replaceable>-<replaceable>NNNNN</replaceable>
     where <replaceable>XXX</replaceable> is where the error comes
     from and <replaceable>NNNNN</replaceable> identifies the error
     message.
     <note>
      <para>Support for connection ids was added in 3.0.4.</para>
     </note>
    </para>
    <para>
     On UNIX versions of Oracle, you can find details about an error
     message like this: <computeroutput>
<prompt>$</prompt> <userinput>oerr ora <replaceable>00001</replaceable></userinput> 00001, 00000,
"unique constraint (%s.%s) violated" // *Cause: An update or insert
statement attempted to insert a duplicate key //         For Trusted
ORACLE configured in DBMS MAC mode, you may see //         this message
if a duplicate entry exists at a different level.  // *Action: Either
remove the unique restriction or do not insert the key </computeroutput>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-errorcode">
   <refnamediv>
    <refname>Ora_ErrorCode</refname>
    <refpurpose>get Oracle error code</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>Ora_ErrorCode</function></funcdef>
      <paramdef>int <parameter>cursor_or_connection</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Returns the numeric error code of the last executed statement on
     the specified cursor or connection.
     <comment>FIXME: should possible values be listed?</comment>
     <note>
      <para>Support for connection ids was added in 3.0.4.</para>
     </note>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-exec">
   <refnamediv>
    <refname>Ora_Exec</refname>
    <refpurpose>execute parsed statement on an Oracle cursor</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_exec</function></funcdef>
      <paramdef>int <parameter>cursor</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt bei Erfolg true und bei Auftreten eines Fehlers false zurück.
     Einzelheiten über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <simpara>
     Siehe auch: <function>ora_parse</function>,
     <function>ora_fetch</function> und <function>ora_do</function>.
    </simpara>
   </refsect1>
  </refentry>

  <refentry id="function.ora-fetch">
   <refnamediv>
    <refname>Ora_Fetch</refname>
    <refpurpose>fetch a row of data from a cursor</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_fetch</function></funcdef>
      <paramdef>int <parameter>cursor</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt true (Datensatz wurde geholt) oder false (keine weiteren
     Datensätze oder Auftreten eines Fehlers) zurück. Bei Auftreten eines
     Fehlers bekommen Sie die Einzelheiten mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
     Wenn es keinen Fehler gab, gibt <function>ora_errorcode</function> 0
     zurück.
    </para>
    <para>
     Retrieves a row of data from the specified cursor.
    </para>
    <simpara>
     Siehe auch: <function>ora_parse</function>,<function>ora_exec</function>,
     and <function>ora_do</function>.
    </simpara>
   </refsect1>
  </refentry>

  <refentry id="function.ora-fetch-into">
   <refnamediv>
    <refname>Ora_Fetch_Into</refname>
    <refpurpose>Fetch a row into the specified result array</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_fetch_into</function></funcdef>
      <paramdef>int <parameter>cursor</parameter></paramdef>
      <paramdef>array <parameter>result</parameter></paramdef>
      <paramdef>int
       <parameter>
        <optional>flags</optional>
       </parameter>
      </paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     You can fetch a row into an array with this function.
     <example>
      <title>Oracle fetch into array</title>
      <programlisting role="php">
&lt;?php
array($results);
ora_fetch_into($cursor, &amp;$results);
echo $results[0];
echo $results[1];
?>
      </programlisting>
     </example>
     Note that you need to fetch the array by reference.
    </para>
    <simpara>
     Siehe auch: <function>ora_parse</function>,<function>ora_exec</function>,
     <function>ora_fetch</function> und <function>ora_do</function>.
    </simpara>
   </refsect1>
  </refentry>

  <refentry id="function.ora-getcolumn">
   <refnamediv>
    <refname>Ora_GetColumn</refname>
    <refpurpose>get data from a fetched row</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>mixed <function>ora_getcolumn</function></funcdef>
      <paramdef>int <parameter>cursor</parameter></paramdef>
      <paramdef>mixed <parameter>column</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Returns the column data. If an error occurs, False is returned
     and <function>ora_errorcode</function>
     will return a non-zero value. Note, however, that a test for False
     on the results from this function may be true in cases where there is
     not error as well (NULL result, empty string, the number 0, the
     string "0"). Fetches the data for a column or function
     result.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-logoff">
   <refnamediv>
    <refname>Ora_Logoff</refname>
    <refpurpose>close an Oracle connection</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_logoff</function></funcdef>
      <paramdef>int <parameter>connection</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt bei Erfolg true und bei Auftreten eines Fehlers false zurück.
     Einzelheiten über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <para>
     Logs out the user and disconnects from the server.
    </para>
    <simpara>
     See also <function>ora_logon</function>.
    </simpara>
   </refsect1>
  </refentry>

  <refentry id="function.ora-logon">
   <refnamediv>
    <refname>Ora_Logon</refname>
    <refpurpose>open an Oracle connection</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_logon</function></funcdef>
      <paramdef>string <parameter>user</parameter></paramdef>
      <paramdef>string <parameter>password</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt bei Erfolg einen Verbindungs-Index oder bei Auftreten eines Fehlers
     false zurück. Einzelheiten über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <para>
     Establishes a connection between PHP and an Oracle database with the
     given username and password.
    </para>
    <para>
     Connections can be made using <productname>SQL*Net</productname>
     by supplying the <acronym>TNS</acronym> name to
     <parameter>user</parameter> like this:
     <informalexample>
      <programlisting role="php">
$conn = Ora_Logon("user<emphasis>@TNSNAME</emphasis>", "pass");
</programlisting>
     </informalexample>
    </para>
    <para>
     If you have character data with non-ASCII characters, you should
     make sure that <envar>NLS_LANG</envar> is set in your
     environment. For server modules, you should set it in the
     server's environment before starting the server.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-plogon">
   <refnamediv>
    <refname>Ora_pLogon</refname>
    <refpurpose>
     Open a persistent Oracle connection
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_plogon</function></funcdef>
      <paramdef>string <parameter>user</parameter></paramdef>
      <paramdef>string <parameter>password</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Establishes a persistant connection between PHP and an Oracle database with the
     given username and password.
    </para>
    <simpara>
     Siehe auch: <function>ora_logon</function>.
    </simpara>
   </refsect1>
  </refentry>

  <refentry id="function.ora-numcols">
   <refnamediv>
    <refname>Ora_Numcols</refname>
    <refpurpose>Returns the number of columns</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_numcols</function></funcdef>
      <paramdef>int <parameter>cursor_ind</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ora_numcols</function> returns the number of columns in a result.
     Only returns meaningful values after an parse/exec/fetch sequence.
    </para>
    <simpara>
     Siehe auch: <function>ora_parse</function>,<function>ora_exec</function>,
     <function>ora_fetch</function>, and <function>ora_do</function>.
    </simpara>
   </refsect1>
  </refentry>

  <refentry id="function.ora-numrows">
   <refnamediv>
    <refname>Ora_Numrows</refname>
    <refpurpose>Returns the number of rows</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_numrows</function></funcdef>
      <paramdef>int <parameter>cursor_ind</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ora_numcols</function> returns the number of rows in a result.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-open">
   <refnamediv>
    <refname>Ora_Open</refname>
    <refpurpose>open an Oracle cursor</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_open</function></funcdef>
      <paramdef>int <parameter>connection</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt bei Erfolg einen Cursor-Index oder bei Auftreten eines Fehlers
     false zurück. Einzelheiten über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <para>
     Opens an Oracle cursor associated with connection.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ora-parse">
   <refnamediv>
    <refname>Ora_Parse</refname>
    <refpurpose>parse an SQL statement</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_parse</function></funcdef>
      <paramdef>int <parameter>cursor_ind</parameter></paramdef>
      <paramdef>string <parameter>sql_statement</parameter></paramdef>
      <paramdef>int <parameter>defer</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Returns 0 on success or -1 on error.
    </para>
    <para>
     This function parses an SQL statement or a PL/SQL block and
     associates it with the given cursor.
    </para>
    <simpara>
     Siehe auch: <function>ora_exec</function>,
     <function>ora_fetch</function> und <function>ora_do</function>.
    </simpara>
   </refsect1>
  </refentry>

  <refentry id="function.ora-rollback">
   <refnamediv>
    <refname>Ora_Rollback</refname>
    <refpurpose>roll back transaction</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Beschreibung</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ora_rollback</function></funcdef>
      <paramdef>int <parameter>connection</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Gibt bei Erfolg true und bei Auftreten eines Fehlers false zurück.
     Einzelheiten über den Fehler bekommen Sie mit den Funktionen
     <function>ora_error</function> und <function>ora_errorcode</function>.
    </para>
    <para>
     This function undoes an Oracle transaction. (See
     <function>ora_commit</function> for the definition of a
     transaction.)
    </para>
   </refsect1>
  </refentry>
 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
