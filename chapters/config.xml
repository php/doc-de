<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.33 $ -->
<!-- EN-Revision: 1.109 Maintainer: wiesemann Status: ready -->
 <chapter xml:id="configuration" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Konfiguration</title>

  <sect1 xml:id="configuration.file">
   <title>Die Konfigurationsdatei</title>

   <simpara>
    Die Konfigurationsdatei (<filename>php3.ini</filename> in
    PHP 3, und einfach &php.ini; ab PHP 4) wird geladen,
    wenn PHP gestartet wird. Wurde PHP als Modul in den Webserver
    einkompiliert, dann geschieht dies nur, wenn der Server gestartet
    wird. Ist PHP als <acronym>CGI</acronym>- oder
    <acronym>CLI</acronym>-Version konfiguriert worden, geschieht es
    bei jedem Aufruf.
   </simpara>
   <para>
    Das Standard-Verzeichnis der &php.ini; ist eine Option, die Sie beim
    Kompilieren angeben können (siehe den entsprechenden Eintrag in
    der <link linkend="faq.installation.phpini">FAQ</link>). Bei der
    <acronym>CGI</acronym>- und der <acronym>CLI</acronym>-Version
    kann diese über die Kommadozeilenoption <literal>-c</literal>
    geändert werden, siehe auch das Kapitel über die Benutzung von
    PHP auf der <link linkend="features.commandline">Kommandozeile</link>.
    Sie können auch die Umgebungsvariable <envar>PHPRC</envar>
    setzen, um ein zusätzliches Suchverzeichnis für die &php.ini;-Datei
    anzugeben.
   </para>
   <note>
    <para>
     Der Apache Webserver wechselt beim Starten in das root-Verzeichnis, was zur
     Folge hat, dass PHP versucht die &php.ini; vom root-Dateisystem zu lesen,
     falls diese dort existiert.
    </para>
   </note>
   <para>
   The &php.ini; directives handled by extensions are documented respectively
    on the pages of the extensions themselfs. The <link linkend="ini">list of
    the core directives</link> is available in the appendix. Probably not all
    the PHP directives are documented in the manual though. For a completel list
    of directives available in your PHP version, please read your well commented
    &php.ini; file. Alternatively, you may find the
    <link xlink:href="&url.php.cvs.phpini;">the latest &php.ini;</link> from CVS
    helpful too.
    Die &php.ini; Einstellungen, die von Erweiterungen zur Verfügung gestellt
    werden, sind bei der entsprechenden Erweiterung dokumentiert. Die
    <link linkend="ini">Liste der core &php.ini; Einstellungen</link> steht
    im nhang zur Verfügung. Trotzdem kann es sein, dass nicht alle PHP
    Einstellungen in diesem Handbuch dokumentiert sind. Eine komplette Liste
    aller Optionen für Ihre PHP Version finden Sie in der &php.ini;-Datei, dort
    finden Sie Kommentare zu jeder Option. Alternativ kann ein Blick in <link
    xlink:href="&url.php.cvs.phpini;">die aktuellste &php.ini;</link> im
    CVS hilfreich sein.
   </para>
   <para>
    <example>
     <title>&php.ini;-Beispiel</title>
     <programlisting role="ini">
<![CDATA[
; jeglicher Text in einer Zeile hinter einem nicht gequoteten
; Semikolon wird ignoriert
[php] ; Abschnitts-Marker (gekennzeichnet durch die eckigen Klammern)
; werden ebenfalls ignoriert
; folgende boolesche Werte sind möglich:
;    true, on, yes
; oder false, off, no, none
register_globals = off

; Sie können Strings in Gänsefüßchen einschließen
include_path = ".:/usr/local/lib/php"

; Backslashes werden wie jedes andere Zeichen behandelt
include_path = ".;c:\php\lib"
]]>
</programlisting>
<!-- TODO: add more details about values and expressions -->
    </example>
   </para>
  </sect1>

  <sect1 xml:id="configuration.changes">
   <title>Wie Sie Konfigurations-Einstellungen ändern können</title>

   <sect2 xml:id="configuration.changes.apache">
    <title>PHP als Apache-Modul laufen lassen</title>
    <simpara>
     Wenn Sie PHP in der Modul-Variante benutzen, können Sie die
     Konfigurationseinstellungen auch mittels der Apache-Konfigurationsdatei
     (z.B. &httpd.conf;) bzw. mittels &htaccess;-Dateien ändern. Sie benötigen
     dazu die Berechtigungen "AllowOverride Options" oder "AllowOverride All".
    </simpara>

    <para>
     Mit PHP 4 und PHP 5 gibt es mehrere Apache-Optionen, die es Ihnen
     ermöglichen, die PHP Konfiguration aus den Apache-Konfigurationsdateien
     heraus zu ändern. Für eine Liste, welche Optionen
     <constant>PHP_INI_ALL</constant>, <constant>PHP_INI_PERDIR</constant> oder
     <constant>PHP_INI_SYSTEM</constant> sind, schauen Sie bitte in die Tabelle,
     die Sie in der Dokumentation zu <function>ini_set</function> finden.
    </para>
    
    <note>
     <simpara>
      Seit PHP 3 existieren Apache-Anweisungen, die mit jeder
      Konfigurationseinstellung der <filename>php3.ini</filename>
      korrespondieren. Die entsprechenden Namen müssen Sie allerdings mit dem
      Präfix "php3_" notieren.
     </simpara>
    </note>

    <para>
     <variablelist>
      <varlistentry>
       <term>
        <systemitem role="directive">php_value</systemitem>
        <parameter>name</parameter>
        <parameter>value</parameter>
       </term>
       <listitem>
        <para>
         Setzt den Wert der spezifizierten Option.
         Kann nur mit Optionen vom Typ PHP_INI_ALL und PHP_INI_PERDIR
         benutzt werden. Um einen zuvor gesetzten Wert zurückzusetzen,
         benutzen Sie <literal>none</literal> als Wert.
         <informalexample>
          <programlisting role="ini">
<![CDATA[
php_value auto_prepend_file none
]]>
          </programlisting>
         </informalexample>
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        <systemitem role="directive">php_flag</systemitem>
        <parameter>name</parameter>
        <parameter>on|off</parameter>
       </term>
       <listitem>
        <para>
         Setzt eine boolesche Option.
         Kann nur mit Optionen vom Typ PHP_INI_ALL und PHP_INI_PERDIR
         benutzt werden.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        <systemitem role="directive">php_admin_value</systemitem>
        <parameter>name</parameter>
        <parameter>value</parameter>
       </term>
       <listitem>
        <para>
         Setzt den Wert der spezifizierten Option.
         Kann nicht in <filename>.htaccess</filename>-Dateien benutzt werden.
         Jeder Options vom Typ <systemitem
         role="directive">php_admin_value</systemitem> kann nicht durch
         <filename>.htaccess</filename>-Dateien oder Virtual-Host-Optionen
         überschrieben werden. Um einen zuvor gesetzten Wert zurückzusetzen,
         benutzen Sie <literal>none</literal> als Wert.
         <informalexample>
          <programlisting role="ini">
<![CDATA[
php_admin_value open_basedir none
]]>
          </programlisting>
         </informalexample>
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        <systemitem role="directive">php_admin_flag</systemitem>
        <parameter>name</parameter>
        <parameter>on|off</parameter>
       </term>
       <listitem>
        <para>
         Setzt eine boolesche Option.
         Kann nicht in <filename>.htaccess</filename>-Dateien benutzt werden.
         Jeder Options vom Typ <systemitem
         role="directive">php_admin_flag</systemitem> kann nicht durch
         <filename>.htaccess</filename>-Dateien oder Virtual-Host-Optionen
         überschrieben werden.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
    </para>
    <para>
     <example>
      <title>Apache-Konfigurations-Beispiel</title>
      <programlisting role="ini">
<![CDATA[
<IfModule mod_php4.c>
  php_value include_path ".:/usr/local/lib/php"
  php_admin_flag safe_mode on
</IfModule>
<IfModule mod_php3.c>
  php3_include_path ".:/usr/local/lib/php"
  php3_safe_mode on
</IfModule>
]]>
      </programlisting>
     </example>
    
     <note>
      <para>
       PHP-Konstanten existieren nicht außerhalb von PHP. So können Sie
       z.B. in der <filename>httpd.conf</filename> keine PHP-Konstanten
       wie <constant>E_ALL</constant> oder <constant>E_NOTICE</constant>
       benutzen, um die Option <link
       linkend="ini.error-reporting">error_reporting</link> zu setzen,
       da ihr Wert dort unbekannt ist und zu <emphasis>0</emphasis>
       ausgewertet würde. Benutzen Sie stattdessen die zugeordneten
       Bitwerte, diese Konstanten können in der &php.ini; benutzt werden.
      </para>
     </note>
    </para>
   </sect2>

   <sect2 xml:id="configuration.changes.other">
    <title>Andere Schnittstellen zu <literal>PHP</literal></title>
    <para>
     Unabhänging von der Schnittstelle zu <literal>PHP</literal> können Sie
     einige Werte während der Laufzeit Ihrer Skript über die
     <function>ini_set</function>-Funktion setzen. Die folgende Tabelle gibt
     Ihnen einen Überblick, auf welcher Stufe eine Option gesetzt oder
     geändert werden kann.
    </para>
    <para>
     <table>
     <title>Definition der PHP_INI_*-Konstanten</title>
     <tgroup cols="3">
      <thead>
       <row>
        <entry>Konstante</entry>
        <entry>Wert</entry>
        <entry>Bedeutung</entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>PHP_INI_USER</entry>
        <entry>1</entry>
        <entry>Option kann in Benutzer-Skripten gesetzt werden</entry>
       </row>
       <row>
        <entry>PHP_INI_PERDIR</entry>
        <entry>2</entry>
        <entry>
         Option kann in der &php.ini;, <filename>.htaccess</filename> oder
         <filename>httpd.conf</filename> gesetzt werden
        </entry>
       </row>
       <row>
        <entry>PHP_INI_SYSTEM</entry>
        <entry>4</entry>
        <entry>
         Option kann in der &php.ini; oder <filename>httpd.conf</filename>
         gesetzt werden
        </entry>
       </row>
       <row>
        <entry>PHP_INI_ALL</entry>
        <entry>7</entry>
        <entry>Option kann überall gesetzt werden</entry>
       </row>
      </tbody>
     </tgroup>
    </table>
    </para>
    <para>
     Die Konfigurationseinstellungen können Sie in der Ausgabe der
     <function>phpinfo</function>-Funktion einsehen. Außerdem können Sie
     Zugang zu den individuellen Konfigurationseinstellungen über
     <function>ini_get</function> oder <function>get_cfg_var</function>
     bekommen.
    </para>
   </sect2>
  </sect1>
 </chapter>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
