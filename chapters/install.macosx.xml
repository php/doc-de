<?xml version="1.0" encoding="iso-8859-1"?>
<!-- EN-Revision: 1.3 Maintainer: tom Status: ready -->
<sect1 id="install.macosx">
 <title>Unix/Mac OS X Installationen</title>
 <para>
  Dieser Abschnitt enthält Anmerkungen und Hinweise zur Installation von
  PHP auf dem Mac OS X Server.
 </para>
 <sect2 id="install.macosx.packages">
  <title>Pakete verwenden</title>
  <simpara>
   Es gibt ein paar vorgefertigte und kompilierte Pakete von PHP für 
   Mac OS X. Das ist hilfreich um eine Standardkonfiguration aufzusetzen,
   doch sollten Sie eine davon abweichende Konfiguration benötigen (wie z.B.
   einen Secure Server oder einen anderen Datenbanktreiber), müssen Sie evtl. 
   PHP und/oder Ihren Webserver selbst erstellen. Wenn Sie mit dem Erstellen
   und Kompilieren Ihrer Software nicht vertraut sind, sollten Sie sich nach 
   einer von jemand anders bereits erstellten Paketversion von PHP mit den 
   von Ihnen benötigten Features umsehen.
  </simpara>
 </sect2>
 <sect2 id="install.macosx.compile">
  <title>Kompilieren für OS X Server</title>
  <simpara>
   Es gibt zwei leicht unterschiedliche Versionen von Mac OS X, den
   Client und den Server. Die folgende Beschreibung ist für OS X Server.
  </simpara>
   <example id="install.macosx.compile.example">
   <title>Mac OS X Server Installation</title>
   <screen>
<![CDATA[
1. Beschaffen Sie sich die aktuellen Distributionen von Apache und PHP
2. Untar'en Sie sie, und starten configure an Apache wie folgt
    ./configure --exec-prefix=/usr \ 
    --localstatedir=/var \ 
    --mandir=/usr/share/man \ 
    --libexecdir=/System/Library/Apache/Modules \ 
    --iconsdir=/System/Library/Apache/Icons \ 
    --includedir=/System/Library/Frameworks/Apache.framework/Versions/1.3/Headers \ 
    --enable-shared=max \ 
    --enable-module=most \ 
    --target=apache 

4. Sie können auch folgende Zeile hinzufügen:
    setenv OPTIM=-O2 
    Wenn Sie wollen, dass der Compiler Optimierungen durchführt.
    
5. Wechseln Sie in das Verzeichnis mit dem PHP Source und führen configure aus
    ./configure --prefix=/usr \ 
    --sysconfdir=/etc \ 
    --localstatedir=/var \ 
    --mandir=/usr/share/man \ 
    --with-xml \ 
    --with-apache=/src/apache_1.3.12 

    Wenn Sie andere Ergänzungen haben (MySQL, GD, etc.), fügen Sie diese
    hier hinzu. Geben Sie bei der Option --with-apache den Pfad zu dem
    Verzeichnis mit Ihrem Apache Source an, z.B. "/src/apache_1.3.12".
6. make
7. make install    
    Dies fügt Ihrem Apache Source Verzeichnis das Verzeichnis 
    src/modules/php4 hinzu.
    
8. Nun konfigurieren Sie Apache neu, inkl. PHP 4 Modul.
    ./configure --exec-prefix=/usr \ 
    --localstatedir=/var \ 
    --mandir=/usr/share/man \ 
    --libexecdir=/System/Library/Apache/Modules \ 
    --iconsdir=/System/Library/Apache/Icons \ 
    --includedir=/System/Library/Frameworks/Apache.framework/Versions/1.3/Headers \ 
    --enable-shared=max \ 
    --enable-module=most \ 
    --target=apache \ 
    --activate-module=src/modules/php4/libphp4.a 

    Sollten Sie eine Meldung erhalten, dass libmodphp4.a nicht mehr gültig ist,
    wechseln Sie in Ihrem Apache Source Verzeichnis zu src/modules/php4 und
    führen folgenden Befehl aus:

    ranlib libmodphp4.a 

    Gehen Sie dann in das Hauptverzeichnis des Apache Source zurück, und führen
    den obigen configure Befehl erneut aus. Das aktualisiert die Linktabelle.

9. make

10. make install

11. Kopieren Sie die Datei php.ini-dist von Ihrem Verzeichnis mit dem PHP 4 
    Source in Ihr "bin" Verzeichnis, und benennen Sie sie um:
    cp php.ini-dist /usr/local/bin/php.ini 

    oder (wenn Sie kein lokales Verzeichnis haben) 

    cp php.ini-dist /usr/bin/php.ini 
]]>
   </screen>
  </example>

  <!--
  <simpara>
  TODO: Someone with Mac OS X skills needs to improve this DOC
        Also, these links are 404 and outdated anyways and
        stepwise doesn't support PHP anymore.

        See also bug #14732

   Other examples for
   <ulink url="&url.stepwise.macosx-client;">Mac OS X client</ulink>
   and
   <ulink url="&url.stepwise.macosx-client;">Mac OS X server</ulink>
   are available at <ulink url="&url.stepwise;">Stepwise</ulink>.
  </simpara>
  -->
  
 </sect2>
 <sect2 id="install.macosx.client">
  <title>Kompilieren für MacOS X Client</title>
  <simpara>
   Diese Tipps wurden freundlicherweise von <ulink
   url="&url.macosx;">Marc Liyanage</ulink> zur Verfügung gestellt.
  </simpara>
  <simpara>
   Das PHP Modul für den Apache Webserver ist in Mac OS X inkludiert.
   Diese Version unterstützt die MySQL und PostgreSQL Datenbanken.
  </simpara>
  <simpara>
   Anmerkung: Vorsicht wenn Sie dies tun, Sie könnten Ihren Apache Webserver
   vermurksen!
  </simpara>
  <para>
   Installationsschritte:
   <itemizedlist>
    <listitem>
     <simpara>
      1.    Öffnen Sie ein Terminalfenster
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      2.    Geben Sie "wget http://www.diax.ch/users/liyanage/software/macosx/libphp4.so.gz"
      ein, und warten Sie bis der Download beendet ist
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      3.    Geben Sie "gunzip libphp4.so.gz" ein
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      4.    Geben Sie  "sudo apxs -i -a -n php4 libphp4.so" ein
     </simpara>
    </listitem>
   </itemizedlist>
   Nun geben Sie "<literal>sudo open -a TextEdit /etc/httpd/httpd.conf</literal>"
   ein. TextEdit öffnet daraufhin die Konfigurationsdatei des Webservers. Suchen
   Sie diese beiden Zeilen in Richtung Dateiende: (Benutzen Sie den Befehl Find)
   <programlisting role="apache">
<![CDATA[
   #AddType application/x-httpd-php .php 
   #AddType application/x-httpd-php-source .phps
]]>
   </programlisting>
   Entfernen Sie die beiden Rautezeichen (<literal>#</literal>), speichern die Datei, 
   und beenden TextEdit.
  </para>
  <para>
   Starten Sie mit "<literal>sudo apachectl graceful</literal>" den Webserver neu.
  </para>
  <para>
   PHP sollte nun laufen. Sie können dies testen, indem Sie in Ihrem Verzeichnis
   "Sites" eine Datei mit dem Namen "test.php" erstellen und folgende Zeile
   hineinschreiben: "<literal>&lt;?php phpinfo() ?&gt;</literal>".
  </para>
  <para>
   Nun öffnen Sie <literal>127.0.0.1/~your_username/test.php</literal> in Ihrem
   Webbrowser. Sie sollten nun eine Tabelle mit Informationen über das PHP Modul
   sehen.
  </para>
 </sect2>
</sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
