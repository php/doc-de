<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 331157 Maintainer: simp  Status: working -->

<refentry xml:id="context.ssl" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" role="noversion">
 <refnamediv>
  <refname>SSL-Kontext-Optionen</refname>
  <refpurpose>Auflistung der Optionen für SSL-Kontexte</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <para>
   Kontextoptionen für die <literal>ssl://</literal> und <literal>tls://</literal>
   Übermittlung.
  </para>
 </refsect1>

 <refsect1 role="options"><!-- {{{ -->
  &reftitle.options;
  <para>
   <variablelist>
    <varlistentry xml:id="context.ssl.verify-peer">
     <term>
      <parameter>verify_peer</parameter>
      <type>boolean</type>
     </term>
     <listitem>
      <para>
       Verifizierung des verwendeten SSL-Zertifikats voraussetzen.
      </para>
      <para>
       Standardmäßig &false;.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.allow-self-signed">
     <term>
      <parameter>allow_self_signed</parameter>
      <type>boolean</type>
     </term>
     <listitem>
      <para>
       Selbst signierte Zerifikate erlauben. Setzt 
       <link linkend="context.ssl.verify-peer"><parameter>verify_peer</parameter></link>
       voraus.
      </para>
      <para>
       Standardmäßig &false;
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.cafile">
     <term>
      <parameter>cafile</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Speicherort der Datei der Zertifizierungsstelle (CA) auf dem lokalen
       Dateisystem, welche im Zusammenhang mit der <literal>verify_peer</literal>
       -Option verwendet werden soll, um die Identität der Gegenstelle zu
       authentifizieren.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.capath">
     <term>
      <parameter>capath</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Falls <literal>cafile</literal> nicht angegeben wurde oder dort das
       Zertifikat nicht gefunden wurde, so wird das durch <literal>capath</literal> 
       angegebene Verzeichnis nach einem passenden Zertifikat durchsucht.
       <literal>capath</literal> muss ein korrekt gehashtes Zertifikatsverzeichnis sein.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.local-cert">
     <term>
      <parameter>local_cert</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Pfad zur lokalen Zertifikatsdatei im Dateisystem. Dies muss eine
       im PEM-Format gespeicherte Datei sein welche das Zertifikat und
       den privaten Schlüssel enthält. Optional kann dies die Kette an
       Herausgeberzertifikaten enthalten.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.passphrase">
     <term>
      <parameter>passphrase</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Passphrase mit der die <literal>local_cert</literal>-Datei
       gespeichert wurde.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.cn-match">
     <term>
      <parameter>CN_match</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Der erwartete Common Name. PHP wird eine eingeschränkte Prüfung auf
       Wildcards vornehmen. Wenn der Common Name nicht diesem Wert entspricht, so
       wird der Verbindungsaufbau fehlschlagen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.verify-depth">
     <term>
      <parameter>verify_depth</parameter>
      <type>integer</type>
     </term>
     <listitem>
      <para>
       Abbruch, wenn die Zertifikatskette zu tief ist.
      </para>
      <para>
       Standardmäßig keine Prüfung.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.ciphers">
     <term>
      <parameter>ciphers</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Setzt die Liste der verfügbaren Verschlüsselungsalgorithmen. Das Format
       dieser Zeichenkette wird in 
       <link xlink:href="&url.openssl.ciphers;">ciphers(1)</link> beschrieben.
      </para>
      <para>
       Standardmäßig auf <literal>DEFAULT</literal> gesetzt
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.capture-peer-cert">
     <term>
      <parameter>capture_peer_cert</parameter>
      <type>boolean</type>
     </term>
     <listitem>
      <para>
       Falls dies auf &true; gesetzt ist, so wird die Kontextoption
       <literal>peer_certificate</literal> angelegt, welche das Zertifikat der
       Gegenstelle enthält.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.capture-peer-cert-chain">
     <term>
      <parameter>capture_peer_cert_chain</parameter>
      <type>boolean</type>
     </term>
     <listitem>
      <para>
       Falls dies auf &true; gesetzt ist, so wird die Kontextoption
       <literal>peer_certificate_chain</literal> angelegt, welche die
       Zertifikatskette enthält.  
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.sni-enabled">
     <term>
      <parameter>SNI_enabled</parameter>
      <type>boolean</type>
     </term>
     <listitem>
      <para>
       Falls dies auf &true; gesetzt wird, so wird Server Name Indication
       eingeschaltet. Die Verwendung von SNI erlaubt die Benutzung von
       mehreren Zertifikaten unter der gleichen IP-Adresse.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.sni-server-name">
     <term>
      <parameter>SNI_server_name</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Ist dies gesetzt, so wird der angegebene Wert als der Servername für
       die Server Name Indication verwendet. Ist dieser Wert nicht angegeben,
       so wird der Server Name anhand des Hostnamens beim Öffnen des Streams
       geraten.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="context.ssl.disable-compression">
     <term>
      <parameter>disable_compression</parameter>
      <type>boolean</type>
     </term>
     <listitem>
      <para>
       Wenn dies gesetzt wird, so wird TLS-Komprimierung ausgeschaltet. Dies kann
       den Angriffsvektor für CRIME-Angriffe umgehen.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1><!-- }}} -->

 <refsect1 role="changelog"><!-- {{{ -->
  &reftitle.changelog;
  <para>
   <informaltable>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>&Version;</entry>
       <entry>&Description;</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>5.4.13</entry>
       <entry>
        <parameter>disable_compression</parameter> hinzugefügt. Benötigt OpenSSL &gt;= 1.0.0.
       </entry>
      </row>
      <row>
       <entry>5.3.2</entry>
       <entry>
        <parameter>SNI_enabled</parameter> und
        <parameter>SNI_server_name</parameter> hinzugefügt.
       </entry>
      </row>
      <row>
       <entry>5.0.0</entry>
       <entry>
        <parameter>capture_peer_cert</parameter>,
        <parameter>capture_peer_chain</parameter> und
        <parameter>ciphers</parameter> hinzugefügt.
       </entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
  </para>
 </refsect1><!-- }}} -->

 <refsect1 role="notes">
  &reftitle.notes;
  <note>
   <simpara>
    Weil <literal>ssl://</literal> die den Wrappern
    <link linkend="wrappers.http"><literal>https://</literal></link> und
    <link linkend="wrappers.ftp"><literal>ftps://</literal></link> zugrunde
    liegende Übertragungsschicht ist, können alle Optionen die für 
    <literal>ssl://</literal> verwendet werden können ebenfalls bei 
    <literal>https://</literal> und <literal>ftps://</literal> angewendet
    werden.
   </simpara>
  </note>
  <note>
   <simpara>
    Damit SNI (Server Name Indication) verfügbar ist muss PHP mit OpenSSL 0.9.8j
    oder neuer kompiliert sein. Die Konstante 
    <constant>OPENSSL_TLSEXT_SERVER_NAME</constant> kann zur Prüfung, ob SNI 
    verfügbar ist, herangezogen werden.
   </simpara>
  </note>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><xref linkend="context.socket" /></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->